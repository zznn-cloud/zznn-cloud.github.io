<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>kvmæ•™ç¨‹ | éœœé›¨.ğŸ‰</title><meta name="author" content="éœœé›¨çš„å°ç«™ğŸˆ"><meta name="copyright" content="éœœé›¨çš„å°ç«™ğŸˆ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="kvmæ•™ç¨‹è™šæ‹ŸåŒ–çš„å®šä¹‰è™šæ‹ŸåŒ–æŠ€æœ¯æœ€æ—©å‡ºç°åœ¨60å¹´ä»£çš„IBMå¤§å‹æœºç³»ç»Ÿï¼Œè¿™äº›æœºå™¨é€šè¿‡Hypervisor(åˆç§°è™šæ‹Ÿæœºç›‘æ§å™¨)çš„ç¨‹åºåœ¨ä¸€å°ç‰©ç†çš„æœåŠ¡å™¨ä¸Šå¯ä»¥è·‘å¤šå°è™šæ‹Ÿæœº(VirtualMachineï¼ŒVM)ï¼Œè™šæ‹Ÿæœºå…±äº«ç‰©ç†æœºçš„CPUã€å†…å­˜ã€10 ç­‰ç¡¬ä»¶èµ„æºï¼Œä½†é€»è¾‘ä¸Šè™šæ‹Ÿæœºä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚ å¸¸è§çš„Hypervisorç±»å‹ç±»å‹1-è£¸æœºå‹:  ç›´æ¥è¿è¡Œåœ¨ç¡¬ä»¶è®¾å¤‡ä¸Šçš„ï¼Œè¿™ç§æ¶æ„æ­å»ºçš„è™šæ‹ŸåŒ–ç¯å¢ƒç§°ä¸ºè£¸æœºè™šæ‹ŸåŒ–"><meta property="og:type" content="article"><meta property="og:title" content="kvmæ•™ç¨‹"><meta property="og:url" content="https://zznn-cloud.github.io/2024/04/20/kvm%E6%95%99%E7%A8%8B/"><meta property="og:site_name" content="éœœé›¨.ğŸ‰"><meta property="og:description" content="kvmæ•™ç¨‹è™šæ‹ŸåŒ–çš„å®šä¹‰è™šæ‹ŸåŒ–æŠ€æœ¯æœ€æ—©å‡ºç°åœ¨60å¹´ä»£çš„IBMå¤§å‹æœºç³»ç»Ÿï¼Œè¿™äº›æœºå™¨é€šè¿‡Hypervisor(åˆç§°è™šæ‹Ÿæœºç›‘æ§å™¨)çš„ç¨‹åºåœ¨ä¸€å°ç‰©ç†çš„æœåŠ¡å™¨ä¸Šå¯ä»¥è·‘å¤šå°è™šæ‹Ÿæœº(VirtualMachineï¼ŒVM)ï¼Œè™šæ‹Ÿæœºå…±äº«ç‰©ç†æœºçš„CPUã€å†…å­˜ã€10 ç­‰ç¡¬ä»¶èµ„æºï¼Œä½†é€»è¾‘ä¸Šè™šæ‹Ÿæœºä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚ å¸¸è§çš„Hypervisorç±»å‹ç±»å‹1-è£¸æœºå‹:  ç›´æ¥è¿è¡Œåœ¨ç¡¬ä»¶è®¾å¤‡ä¸Šçš„ï¼Œè¿™ç§æ¶æ„æ­å»ºçš„è™šæ‹ŸåŒ–ç¯å¢ƒç§°ä¸ºè£¸æœºè™šæ‹ŸåŒ–"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092041_a8fR5.gif"><meta property="article:published_time" content="2024-04-20T03:55:44.278Z"><meta property="article:modified_time" content="2025-03-25T07:37:37.377Z"><meta property="article:author" content="éœœé›¨çš„å°ç«™ğŸˆ"><meta property="article:tag" content="kvm"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092041_a8fR5.gif"><link rel="shortcut icon" href="https://wn.zznnwn.cloudns.biz/img/zznnlogo_bak.webp"><link rel="canonical" href="https://zznn-cloud.github.io/2024/04/20/kvm%E6%95%99%E7%A8%8B/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",languages:{hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"ç¹",msgToSimplifiedChinese:"ç°¡"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"Copy successfully",error:"Copy error",noSupport:"The browser does not support"},relativeDate:{homepage:!0,post:!0},runtime:"days",dateSuffix:{just:"Just",min:"minutes ago",hour:"hours ago",day:"days ago",month:"months ago"},copyright:{limitCount:1e3,languages:{author:"Author: éœœé›¨çš„å°ç«™ğŸˆ",link:"Link: ",source:"Source: éœœé›¨.ğŸ‰",info:"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},lightbox:"fancybox",Snackbar:{chs_to_cht:"Traditional Chinese Activated Manually",cht_to_chs:"Simplified Chinese Activated Manually",day_to_night:"Dark Mode Activated Manually",night_to_day:"Light Mode Activated Manually",bgLight:"#49b1f5",bgDark:"#121212",position:"top-right"},source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"kvmæ•™ç¨‹",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-03-25 15:37:37"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){0!==a&&(a=864e5*a,t={value:t,expiry:(new Date).getTime()+a},localStorage.setItem(e,JSON.stringify(t)))},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!((new Date).getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><style type="text/css">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><link rel="stylesheet" href="/css/pl.css"><link rel="stylesheet" href="/css/transpancy.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/menu.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/cat.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4426032_wnvg24di0w.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/daohang.css"><link rel="stylesheet" href="/css/font.css"><div id="myscoll"></div><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload='this.media="screen"'><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092041_a8fR5.gif" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">144</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">24</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-zhuye-"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/ç®€é€¸äº‘é¦–é¡µ/index-left.html"><i class="fa-fw iconfont icon-a-shuiguochengzijuzi"></i><span> ç®€é€¸äº‘é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-09wenzhang"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-kafeibei"></i><span> åŠ¨ç”»</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/%E6%97%B6%E9%92%9F/clock2.html"><span>æ—¶é’Ÿ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/%E7%83%9F%E8%8A%B1/fireworks2.html"><span>çƒŸèŠ±</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/%E5%9C%A3%E8%AF%9E%E6%A0%91/christmastree1.html"><span>åœ£è¯æ ‘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/%E4%B8%83%E5%BD%A9%E9%9B%A8/qicaiyu.html"><span>ä¸ƒå½©é›¨</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://uptime-status.zznnwn.cloudns.biz"><i class="fa-fw iconfont icon-xing"></i><span> å°ç«™ç›‘æ§</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw iconfont icon-kafei"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="http://sunlight.zznnwn.cloudns.biz/2024/03/16/éŸ³ä¹/"><i class="fa-fw iconfont icon-juzipian"></i><span> éŸ³ä¹</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/2023/05/23/ç•™è¨€æ¿/"><i class="fa-fw iconfont icon-lishiliuyan"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/2023/05/22/å…³äº/"><i class="fa-fw iconfont icon-zhuye_chengchangjilu"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/16.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="éœœé›¨.ğŸ‰"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wn.zznnwn.cloudns.biz/img/zznnlogo_bak.webp"><span class="site-name">éœœé›¨.ğŸ‰</span></a></span><div id="he-plugin-simple"></div><div id="none_space"></div><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-zhuye-"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/ç®€é€¸äº‘é¦–é¡µ/index-left.html"><i class="fa-fw iconfont icon-a-shuiguochengzijuzi"></i><span> ç®€é€¸äº‘é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-09wenzhang"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-kafeibei"></i><span> åŠ¨ç”»</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/%E6%97%B6%E9%92%9F/clock2.html"><span>æ—¶é’Ÿ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/%E7%83%9F%E8%8A%B1/fireworks2.html"><span>çƒŸèŠ±</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/%E5%9C%A3%E8%AF%9E%E6%A0%91/christmastree1.html"><span>åœ£è¯æ ‘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/html/%E4%B8%83%E5%BD%A9%E9%9B%A8/qicaiyu.html"><span>ä¸ƒå½©é›¨</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://uptime-status.zznnwn.cloudns.biz"><i class="fa-fw iconfont icon-xing"></i><span> å°ç«™ç›‘æ§</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw iconfont icon-kafei"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="http://sunlight.zznnwn.cloudns.biz/2024/03/16/éŸ³ä¹/"><i class="fa-fw iconfont icon-juzipian"></i><span> éŸ³ä¹</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/2023/05/23/ç•™è¨€æ¿/"><i class="fa-fw iconfont icon-lishiliuyan"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/2023/05/22/å…³äº/"><i class="fa-fw iconfont icon-zhuye_chengchangjilu"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">kvmæ•™ç¨‹</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-04-20T03:55:44.278Z" title="Created 2024-04-20 11:55:44">2024-04-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-03-25T07:37:37.377Z" title="Updated 2025-03-25 15:37:37">2025-03-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/kvm/">kvm</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">8.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>34min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="kvmæ•™ç¨‹"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="kvmæ•™ç¨‹"><a href="#kvmæ•™ç¨‹" class="headerlink" title="kvmæ•™ç¨‹"></a>kvmæ•™ç¨‹</h1><h3 id="è™šæ‹ŸåŒ–çš„å®šä¹‰"><a href="#è™šæ‹ŸåŒ–çš„å®šä¹‰" class="headerlink" title="è™šæ‹ŸåŒ–çš„å®šä¹‰"></a>è™šæ‹ŸåŒ–çš„å®šä¹‰</h3><p>è™šæ‹ŸåŒ–æŠ€æœ¯æœ€æ—©å‡ºç°åœ¨60å¹´ä»£çš„IBMå¤§å‹æœºç³»ç»Ÿï¼Œè¿™äº›æœºå™¨é€šè¿‡Hypervisor(åˆç§°è™šæ‹Ÿæœºç›‘æ§å™¨)çš„ç¨‹åºåœ¨ä¸€å°ç‰©ç†çš„æœåŠ¡å™¨ä¸Šå¯ä»¥è·‘å¤šå°è™šæ‹Ÿæœº(VirtualMachineï¼ŒVM)ï¼Œè™šæ‹Ÿæœºå…±äº«ç‰©ç†æœºçš„CPUã€å†…å­˜ã€10 ç­‰ç¡¬ä»¶èµ„æºï¼Œä½†é€»è¾‘ä¸Šè™šæ‹Ÿæœºä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚</p><h3 id="å¸¸è§çš„Hypervisorç±»å‹"><a href="#å¸¸è§çš„Hypervisorç±»å‹" class="headerlink" title="å¸¸è§çš„Hypervisorç±»å‹"></a>å¸¸è§çš„Hypervisorç±»å‹</h3><p><strong>ç±»å‹1-è£¸æœºå‹</strong>: ç›´æ¥è¿è¡Œåœ¨ç¡¬ä»¶è®¾å¤‡ä¸Šçš„ï¼Œè¿™ç§æ¶æ„æ­å»ºçš„è™šæ‹ŸåŒ–ç¯å¢ƒç§°ä¸ºè£¸æœºè™šæ‹ŸåŒ–ç¯å¢ƒï¼Œä¾‹å¦‚:VMware ESXl<br><strong>ç±»å‹I1-ä¸»æœºæ‰˜ç®¡å‹</strong>: è¿è¡Œåœ¨å…·æœ‰è™šæ‹ŸåŒ–åŠŸèƒ½çš„æ“ä½œç³»ç»Ÿä¸Šçš„ï¼Œè¿™ç§æ¶æ„æ„å»ºçš„æ˜¯ä¸»æœºè™šæ‹ŸåŒ–ç¯å¢ƒï¼Œä¾‹<br><strong>å¦‚</strong>: VMware Workstation.VirtualBoxã€KVMã€xenç­‰ã€‚</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_2121384e9f54523bd1280ade709ccda4.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_2121384e9f54523bd1280ade709ccda4.png"></p><h3 id="è™šæ‹ŸåŒ–çš„ç±»å‹"><a href="#è™šæ‹ŸåŒ–çš„ç±»å‹" class="headerlink" title="è™šæ‹ŸåŒ–çš„ç±»å‹"></a>è™šæ‹ŸåŒ–çš„ç±»å‹</h3><p><strong>æœåŠ¡å™¨è™šæ‹ŸåŒ–</strong>: å¯åœ¨ä¸€å°ç‰©ç†æœºä¸Šè¿è¡Œå¤šä¸ªè™šæ‹Ÿæœºï¼Œå„è™šæ‹Ÿæœºä¹‹é—´ç›¸äº’éš”ç¦»äº’ä¸å½±å“ï¼Œè™šæ‹Ÿæœºçš„å®Œæ•´çŠ¶æ€ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œç§»åŠ¨å’Œå¤åˆ¶è™šæ‹Ÿæœºå°±åƒç§»åŠ¨å’Œå¤åˆ¶æ–‡ä»¶ä¸€æ ·è½»æ¾ï¼Œå¯å°†ä»»æ„è™šæ‹Ÿæœºè°ƒé…æˆ–è¿ç§»åˆ°å…¶ä»–ç†æœåŠ¡å™¨ä¸Šã€‚</p><p><strong><strong>å®¹å™¨è™šæŠ€æœ¯</strong>: å…¸å‹çš„å°±æ˜¯dockerã€Linux Container(LXC)ç­‰</strong></p><p><strong>ç½‘ç»œè™šæ‹ŸåŒ–</strong>: é€šè¿‡è½¯ä»¶å®šä¹‰ç½‘ç»œï¼Œå³ç½‘ç»œçš„åˆ›å»ºä¸å†ä¾èµ–äºç‰©ç†è®¾å¤‡ï¼Œå¦‚å…¬æœ‰äº‘å‚å•†å…è®¸ç”¨æˆ·è‡ªå·±åˆ›å»ºæ–°çš„ç½‘ç»œï¼Œåœ¨kubernetesã€openstackä¸­éƒ½ä¼šä½¿ç”¨åˆ°ç½‘ç»œè™šæ‹ŸåŒ–ã€‚</p><h3 id="è™šæ‹ŸåŒ–æŠ€æœ¯åˆ†ç±»"><a href="#è™šæ‹ŸåŒ–æŠ€æœ¯åˆ†ç±»" class="headerlink" title="è™šæ‹ŸåŒ–æŠ€æœ¯åˆ†ç±»"></a>è™šæ‹ŸåŒ–æŠ€æœ¯åˆ†ç±»</h3><p><strong>å…¨è™šæ‹ŸåŒ–</strong>: Hypervisor ç›´æ¥å®‰è£…åœ¨ç‰©ç†æœºä¸Šï¼Œå¤šä¸ªè™šæ‹Ÿæœºåœ¨ Hypervisor ä¸Šè¿è¡Œï¼ŒHypervisor å®ç°æ–¹å¼ä¸€èˆ¬æ˜¯ä¸€ä¸ªç‰¹æ®Šå®šåˆ¶çš„ Linux ç³»ç»Ÿï¼Œ<strong>ä¾‹å¦‚</strong>: Xenå’ŒVMWare ESXi éƒ½å±äºè¿™ä¸ªç±»å‹ã€‚ï¼ˆé€‚ç”¨äºä¼ä¸šç§æœ‰ï¼‰**</p><p><strong>ç¡¬ä»¶è¾…åŠ©è™šæ‹ŸåŒ–</strong>: KVMæ˜¯ç¡¬ä»¶è¾…åŠ©çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œä¸»è¦è´Ÿè´£æ¯”è¾ƒç¹ççš„<strong>CPU</strong>å’Œ<strong>å†…å­˜è™šæ‹ŸåŒ–</strong>ï¼Œè€Œ<strong>Qemu</strong>åˆ™è´Ÿè´£<strong>I/0</strong>è™šæ‹ŸåŒ–ã€‚ï¼ˆé€‚ç”¨äºå…¬æœ‰äº‘ï¼‰</p><p><strong>è™šæ‹ŸåŒ–æ¨¡æ‹Ÿå™¨</strong>: Qemu æ¨¡æ‹Ÿå™¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¤§å¤šæ•°çš„åšæ³•éƒ½æ˜¯é…åˆKVMæ¥å®Œæˆè™šæ‹ŸåŒ–å·¥ä½œï¼ŒKVMå®Œæˆå¤æ‚åŠè¦æ±‚æ¯”è¾ƒé«˜çš„CPUå’Œå†…å­˜çš„è™šæ‹ŸåŒ–ï¼Œè€ŒQemuå®Œæˆåƒç¡¬ç›˜ã€é¼ æ ‡ã€é”®ç›˜ç­‰è®¾å¤‡çš„è™šæ‹ŸåŒ–ã€‚ï¼ˆé€‚ç”¨äºå…¬æœ‰äº‘ï¼‰</p><h3 id="KVMè™šæ‹ŸåŒ–ä»‹ç»"><a href="#KVMè™šæ‹ŸåŒ–ä»‹ç»" class="headerlink" title="KVMè™šæ‹ŸåŒ–ä»‹ç»"></a>KVMè™šæ‹ŸåŒ–ä»‹ç»</h3><p><strong>KVM</strong> æ˜¯Kernel-based Virtual Machine(åŸºäºå†…æ ¸çš„è™šæ‹Ÿæœº)çš„ç®€ç§°ï¼Œæ˜¯ä¸€ä¸ªå¼€æºçš„Linuxç³»ç»Ÿå†…æ ¸è™šæ‹ŸåŒ–æ¨¡å—ï¼Œè‡ªLinux2.6ä¹‹åé›†æˆåœ¨Linuxçš„å„ä¸ªä¸»è¦å‘è¡Œç‰ˆæœ¬ä¸­ï¼ŒKVMç›®å‰å·²æˆä¸ºå­¦æœ¯ç•Œä¸»æµçš„hypervisorã€‚</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_ab78ebf3ee7974ceac39b802b6d3b861.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_ab78ebf3ee7974ceac39b802b6d3b861.png"></p><h3 id="è™šæ‹Ÿæœºå¸¸ç”¨çš„ç®¡ç†å·¥å…·"><a href="#è™šæ‹Ÿæœºå¸¸ç”¨çš„ç®¡ç†å·¥å…·" class="headerlink" title="è™šæ‹Ÿæœºå¸¸ç”¨çš„ç®¡ç†å·¥å…·"></a>è™šæ‹Ÿæœºå¸¸ç”¨çš„ç®¡ç†å·¥å…·</h3><p><strong>libvirt:</strong> æ˜¯è°ƒç”¨KVMåˆ›å»ºè™šæ‹Ÿæœºçš„å·¥å…·ï¼Œå…¶ä¸ä½†èƒ½ç®¡ç†KVMï¼Œè¿˜èƒ½ç®¡ç†VMwareã€Xenã€Hyper-Vã€virtualBoxç­‰è™šæ‹ŸåŒ–æ–¹æ¡ˆã€‚</p><p><strong>virsh</strong>: æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ç®¡ç†KVMè™šæ‹ŸåŒ–çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p><p><strong>virt-manager</strong>: virt-manageræ˜¯ä¸€ä¸ªè™šæ‹ŸåŒ–ç®¡ç†å›¾å½¢è½¯ä»¶ï¼ŒåŒ…æ‹¬è™šæ‹Ÿæœºçš„åˆ›å»ºã€åˆ é™¤ã€å¯åŠ¨ã€åœæ­¢ä»¥åŠä¸€äº›ç®€å•çš„ç›‘æ§åŠŸèƒ½ç­‰ã€‚ï¼ˆå¾ˆå°‘ä½¿ç”¨ä¸å®‰è£…ï¼‰</p><p><strong>openstack</strong>: openstackæ˜¯ä¸€ä¸ªå¼€æºçš„è™šæ‹ŸåŒ–é›†ç¾¤ç»Ÿä¸€ç®¡ç†çš„å¹³å°ï¼Œå¸¸ç”¨äºæ„å»ºå¤§è§„æ¨¡çš„è™šæ‹ŸåŒ–ç¯å¢ƒï¼Œç”¨äºç®¡ç†æˆåƒä¸Šä¸‡è™šæ‹Ÿæœºçš„åˆ›å»ºã€å¯åŠ¨ã€åˆ é™¤ç­‰æ•´ä¸ªç”Ÿå‘½å‘¨æœŸ</p><blockquote><h3 id="ç”Ÿäº§ç¯å¢ƒä¸­-åˆ›å»ºè™šæ‹Ÿæœºä¸€å¾‹ä½¿ç”¨æ­¤å‘½ä»¤ï¼ˆä¸‹æ–¹ä¸¤å‚æ•°æ ¹æ®å®¿ä¸»æœºcpu-memå®é™…åˆç†èŒƒå›´æ›´æ”¹ï¼‰"><a href="#ç”Ÿäº§ç¯å¢ƒä¸­-åˆ›å»ºè™šæ‹Ÿæœºä¸€å¾‹ä½¿ç”¨æ­¤å‘½ä»¤ï¼ˆä¸‹æ–¹ä¸¤å‚æ•°æ ¹æ®å®¿ä¸»æœºcpu-memå®é™…åˆç†èŒƒå›´æ›´æ”¹ï¼‰" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒä¸­ åˆ›å»ºè™šæ‹Ÿæœºä¸€å¾‹ä½¿ç”¨æ­¤å‘½ä»¤ï¼ˆä¸‹æ–¹ä¸¤å‚æ•°æ ¹æ®å®¿ä¸»æœºcpu memå®é™…åˆç†èŒƒå›´æ›´æ”¹ï¼‰"></a>ç”Ÿäº§ç¯å¢ƒä¸­ åˆ›å»ºè™šæ‹Ÿæœºä¸€å¾‹ä½¿ç”¨æ­¤å‘½ä»¤ï¼ˆä¸‹æ–¹ä¸¤å‚æ•°æ ¹æ®å®¿ä¸»æœºcpu memå®é™…åˆç†èŒƒå›´æ›´æ”¹ï¼‰</h3><ul><li><strong>maxmemory</strong>=2048 æœ€å¤§æ”¯æŒçš„å†…å­˜æ ¸å¿ƒæ•°</li><li><strong>maxvcpus</strong>=4 æœ€å¤§æ”¯æŒçš„CPUæ ¸å¿ƒæ•°<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºè™šæ‹Ÿæœº</span></span><br><span class="line">virt-install --virt-type kvm \</span><br><span class="line">--os-type=linux \</span><br><span class="line">--os-variant rhel7 \</span><br><span class="line">--name web04 \</span><br><span class="line">--memory 1024,maxmemory=2048 \</span><br><span class="line">--vcpus 1,maxvcpus=4 --disk /kvm/web04-vda.qcow2,format=qcow2,size=10 \</span><br><span class="line">--cdrom /opt/CentOS-7-x86_64-Minimal-2009.iso --network bridge=br0 --graphics vnc,listen=0.0.0.0 --noautoconsole</span><br></pre></td></tr></table></figure></li></ul><p>å…¶ä¸­ï¼Œ<code>--ram</code>æŒ‡å®šå†…å­˜å¤§å°ï¼ˆMBï¼‰ï¼Œ<code>--vcpus</code>æŒ‡å®šè™šæ‹ŸCPUæ•°é‡ï¼Œ<code>--disk</code>æŒ‡å®šç£ç›˜æ–‡ä»¶è·¯å¾„å’Œå¤§å°ï¼Œ<code>--cdrom</code>æŒ‡å®šISOé•œåƒè·¯å¾„ï¼Œ<code>--network</code>æŒ‡å®šç½‘ç»œé…ç½®ï¼Œ<code>--graphics</code>æŒ‡å®šå›¾å½¢ç•Œé¢é…ç½®ã€‚</p><p>æ­¤æ—¶è¿æ¥åˆ°è™šæ‹Ÿæœºå®Œæˆé…ç½®å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virt-viewer myvm1</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæ‚¨åº”è¯¥å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸­å®‰è£…æ“ä½œç³»ç»Ÿäº†</p><p>å¸¸ç”¨å‘½ä»¤æ¦‚è§ˆï¼š</p><h3 id="ç®¡ç†è™šæ‹Ÿæœº"><a href="#ç®¡ç†è™šæ‹Ÿæœº" class="headerlink" title="ç®¡ç†è™šæ‹Ÿæœº"></a>ç®¡ç†è™šæ‹Ÿæœº</h3><p>ä½¿ç”¨<code>virt-install</code>åˆ›å»ºè™šæ‹Ÿæœºåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç®¡ç†ï¼š</p><ul><li><code>virsh list --all</code>ï¼šåˆ—å‡ºæ‰€æœ‰è™šæ‹Ÿæœºã€‚</li><li><code>virsh start myvm1</code>ï¼šå¯åŠ¨è™šæ‹Ÿæœºã€‚</li><li><code>virsh stop myvm1</code>ï¼šåœæ­¢è™šæ‹Ÿæœºã€‚</li><li><code>virsh suspend myvm1</code>ï¼šæŒ‚èµ·è™šæ‹Ÿæœºã€‚</li><li><code>virsh resume myvm1</code>ï¼šæ¢å¤æŒ‚èµ·çš„è™šæ‹Ÿæœºã€‚</li><li><code>virsh destroy myvm1</code>ï¼šå¼ºåˆ¶å…³é—­è™šæ‹Ÿæœºã€‚</li></ul><p>ä½ æ‰§è¡Œçš„ <code>virsh destroy web04</code> å‘½ä»¤æ˜¯<strong>å¼ºåˆ¶å…³é—­</strong>è™šæ‹Ÿæœº <code>web04</code>ï¼Œç›¸å½“äºç›´æ¥æ–­ç”µï¼Œä¸ä¼šæ‰§è¡Œæ­£å¸¸çš„å…³æœºæµç¨‹ã€‚</p><p>å¦‚æœä½ æƒ³<strong>æ­£å¸¸å…³æœº</strong>ï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virsh shutdown web04</span><br></pre></td></tr></table></figure><p>å¦‚æœ <code>web04</code> ä¸æ˜¯æ•…æ„å…³é—­çš„ï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤é‡æ–°å¯åŠ¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virsh start web04</span><br></pre></td></tr></table></figure><p>å¦‚æœè™šæ‹Ÿæœºæ— æ³•å¯åŠ¨æˆ–è€…æœ‰å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿ç»§ç»­äº¤æµï¼ğŸ˜Š</p></blockquote><h2 id="äºŒ-å®‰è£…kvmè™šæ‹ŸåŒ–ç®¡ç†å·¥å…·ï¼ˆæœ¬æ•™ç¨‹ç¯å¢ƒworkstdtionï¼‰"><a href="#äºŒ-å®‰è£…kvmè™šæ‹ŸåŒ–ç®¡ç†å·¥å…·ï¼ˆæœ¬æ•™ç¨‹ç¯å¢ƒworkstdtionï¼‰" class="headerlink" title="äºŒ. å®‰è£…kvmè™šæ‹ŸåŒ–ç®¡ç†å·¥å…·ï¼ˆæœ¬æ•™ç¨‹ç¯å¢ƒworkstdtionï¼‰"></a>äºŒ. å®‰è£…kvmè™šæ‹ŸåŒ–ç®¡ç†å·¥å…·ï¼ˆæœ¬æ•™ç¨‹ç¯å¢ƒworkstdtionï¼‰</h2><table><thead><tr><th><strong>ä¸»æœºåç§°</strong></th><th><strong>IPåœ°å€</strong></th><th><strong>ç³»ç»Ÿç¯å¢ƒ</strong></th><th><strong>ç¡¬ä»¶ç¯å¢ƒ</strong></th></tr></thead><tbody><tr><td><strong>kvm01</strong></td><td><strong>10.0.0.10</strong></td><td><strong>centos7.9</strong></td><td><strong>4C8G50G</strong></td></tr></tbody></table><h3 id="è™šæ‹ŸæœºCPUå¼€å¯è™šæ‹ŸåŒ–åŠŸèƒ½"><a href="#è™šæ‹ŸæœºCPUå¼€å¯è™šæ‹ŸåŒ–åŠŸèƒ½" class="headerlink" title="è™šæ‹ŸæœºCPUå¼€å¯è™šæ‹ŸåŒ–åŠŸèƒ½"></a>è™šæ‹ŸæœºCPUå¼€å¯è™šæ‹ŸåŒ–åŠŸèƒ½</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_17270590f1aeca75a8028b0714cd4f21.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_17270590f1aeca75a8028b0714cd4f21.png"></p><p><strong>å¼€æœºåæ£€æµ‹CPUæ˜¯å¦æ”¯æŒåµŒå¥—è™šæ‹ŸåŒ–</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# egrep -o &#x27;vmx|svm&#x27; /proc/cpuinfo</span><br><span class="line">vmx</span><br><span class="line">vmx  æ˜¾ç¤ºå·²è½½å…¥çš„ç³»ç»Ÿæ¨¡å—</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…KVMç›¸å…³è½¯ä»¶åŒ…"><a href="#å®‰è£…KVMç›¸å…³è½¯ä»¶åŒ…" class="headerlink" title="å®‰è£…KVMç›¸å…³è½¯ä»¶åŒ…"></a>å®‰è£…KVMç›¸å…³è½¯ä»¶åŒ…</h3><p><strong>å‡†å¤‡å·¥ä½œ æœ¬æ–‡æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬æœ¬é¡¹ç›®ä¸æ‰§è¡Œ</strong>ï¼ˆå¯é€‰ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">rm /etc/yum.repos.d</span><br><span class="line">mount /dev/cdrom /mnt</span><br><span class="line">vim /etc/fstab </span><br><span class="line">/dev/cdrom  /mnt  iso9660  default 0 Â 0 </span><br><span class="line">vim  /etc/yum.repos.d/local.repo</span><br><span class="line">[local]</span><br><span class="line">name=local</span><br><span class="line">baseurl=file:///mnt</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure><p><strong>libvirt</strong>: ç”¨äºåˆ›å»ºè™šæ‹Ÿæœº</p><p><strong>virt-install</strong>ï¼šè™šæ‹Ÿæœºçš„å®‰è£…å·¥å…·å’Œå…‹éš†å·¥å…·(éå¸¸é‡è¦çš„åŠŸèƒ½)</p><p><strong>qemu-kvm</strong>: ç®¡ç†è™šæ‹Ÿæœºçš„ç£ç›˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># æ£€æµ‹æº</span><br><span class="line">yum repolist</span><br><span class="line"># å®‰è£…è½¯ä»¶</span><br><span class="line">yum insta1l libvirt virt-install qemu-kvm -y</span><br><span class="line"># ubuntuuåˆ™ä¸º</span><br><span class="line">apt install -y qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virtinst</span><br><span class="line"># å¯åŠ¨æœåŠ¡</span><br><span class="line">systemctl start libvirtd &amp;&amp; systemctl enable libvirtd &amp;&amp; systemctl status libvirtd</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºKVMè™šæ‹Ÿæœºï¼ˆé€‰æ‹©è½»é‡é•œåƒæ–¹ä¾¿å®éªŒä¸Šä¼ ä¸‹è½½ï¼‰"><a href="#åˆ›å»ºKVMè™šæ‹Ÿæœºï¼ˆé€‰æ‹©è½»é‡é•œåƒæ–¹ä¾¿å®éªŒä¸Šä¼ ä¸‹è½½ï¼‰" class="headerlink" title="åˆ›å»ºKVMè™šæ‹Ÿæœºï¼ˆé€‰æ‹©è½»é‡é•œåƒæ–¹ä¾¿å®éªŒä¸Šä¼ ä¸‹è½½ï¼‰"></a>åˆ›å»ºKVMè™šæ‹Ÿæœºï¼ˆé€‰æ‹©è½»é‡é•œåƒæ–¹ä¾¿å®éªŒä¸Šä¼ ä¸‹è½½ï¼‰</h3><p><strong>æå‰å°†centosé•œåƒä¸Šä¼ åˆ°ç³»ç»Ÿå†…ç”¨äºç»™kvmè™šæ‹Ÿæœºå®‰è£…ç³»ç»Ÿ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æå‰å°†centos7é•œåƒä¼ åˆ°ç³»ç»Ÿå†…ç”¨äºç»™KVMè™šæ‹Ÿæœºå®‰è£…ç³»ç»Ÿ</span></span><br><span class="line"><span class="built_in">mv</span> CentOS-7-x86_64-Minimal-2009.iso /opt</span><br><span class="line"><span class="comment"># åˆ›å»ºKVMè™›æ‹Ÿæœº</span></span><br><span class="line">virt-install --virt-type kvm \</span><br><span class="line">--os-type=linux \</span><br><span class="line">--os-variant rhel7 \</span><br><span class="line">--name web01 \</span><br><span class="line">--memory 1024 \</span><br><span class="line">--vcpus 1 --disk /opt/web01-vda.raw,format=raw,size=10 --cdrom /opt/CentOS-7-x86_64-Minimal-2009.iso \</span><br><span class="line">--network network=default --graphics vnc,listen=0.0.0.0 --noautoconsole </span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°è§£é‡Š:</span></span><br><span class="line">--virt-type kvm Â <span class="comment"># è™šæ‹ŸåŒ–çš„ç±»å‹</span></span><br><span class="line">--os-type=linux Â <span class="comment"># ç³»ç»Ÿç±»å‹</span></span><br><span class="line">--os-variant Â  Â  <span class="comment"># rhel7ç³»ç»Ÿç‰ˆæœ¬</span></span><br><span class="line">--name webO1 Â  Â  <span class="comment"># è™šæ‹Ÿæœºçš„åå­—</span></span><br><span class="line">--memory 1024 Â  Â <span class="comment"># è™šæ‹Ÿæœºçš„å†…å­˜</span></span><br><span class="line">--vcpus 1 Â  Â  Â  Â <span class="comment"># è™šæ‹Ÿcpuçš„æ ¸æ•°</span></span><br><span class="line">--disk /opt/web0l-vda.raw,format=raw,size=10 Â <span class="comment"># ç£ç›˜ä½ç½®åŠåç§°,ç£ç›˜æ ¼å¼,ç©ºé—´å¤§å°(G)</span></span><br><span class="line">--cdrom /opt/CentOS-7-x86_64-Minimal-2009.iso <span class="comment"># ç³»ç»Ÿé•œåƒä½ç½®åŠåç§°</span></span><br><span class="line">--network network=default Â  Â  <span class="comment"># ä½¿ç”¨é»˜è®¤ç½‘ç»œ(é»˜è®¤NAT)</span></span><br><span class="line">--graphics vnc,listen=0.0.0.0 <span class="comment"># å¼€å¯VNC</span></span><br><span class="line">--noautoconsole Â  Â  Â  Â  Â  Â  Â  <span class="comment"># æœåŠ¡å™¨ç«¯æ”¯æŒconsoleç™»å½• </span></span><br></pre></td></tr></table></figure><p><strong>ç¿»è¯‘</strong>ï¼šå®‰è£…å®Œæˆåéœ€è¦å»æ§åˆ¶å°å®Œæˆå®‰è£… ç”µè„‘å®‰è£…ä¸€ä¸ªæˆ–è€…ä½¿ç”¨mobaxtermè¿æ¥å®Œæˆå®‰è£…</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_94db20daccc7489e24ae4fbc9e524935.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_94db20daccc7489e24ae4fbc9e524935.png"></p><p>è™šæ‹Ÿæœºvncæš´éœ²ç«¯å£<strong>5900</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm opt]<span class="comment"># ss -ntulp</span></span><br><span class="line">Netid State Â  Â   Recv-Q Send-Q Â  Local Address:Port Â  Â   Peer Address:Port Â  Â  Â  Â  Â  Â  Â </span><br><span class="line">tcp Â  LISTEN Â  Â  0 Â  Â  Â 1 Â  Â  *:5900 Â   <span class="built_in">users</span>:((&quot;qemu-kvm&quot;,pid=<span class="number">3551</span>,fd=<span class="number">19</span>))</span><br></pre></td></tr></table></figure><p><strong>è¿æ¥è¿‡æ¥ä¹‹åä¾¿åœ¨æ­¤å®‰è£…é¡µé¢</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_d271ac8899700a02171525adff77649f.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_d271ac8899700a02171525adff77649f.png"></p><p>æ­¤æ—¶æŒ‰ç…§æ­£å¸¸å®‰è£…æµç¨‹å³å¯ å®‰è£…å®Œæˆåç‚¹å‡»é‡å¯æ­¤æ—¶ä¸ä¼šé‡å¯ éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ‰“å¼€ï¼ˆé€šè¿‡ <strong>ss -ntulp</strong> æŸ¥çœ‹ <strong>qemo-kvm</strong> ç«¯å£ é€šè¿‡ <strong>vnc</strong> è¿æ¥è™šæ‹ŸæœºæŸ¥çœ‹è™šæ‹Ÿæœº <strong>IP</strong> åœ°å€ï¼‰å…¶å®æ­¤æ—¶æˆ‘ä»¬ å¯ä»¥é€šè¿‡å®¿ä¸»æœº ä½¿ç”¨æ­¤è™šæ‹Ÿæœº <strong>IPï¼š192.168.122.39</strong> è¿ä¸Šè™šæ‹Ÿæœº å¹¶ä¸”ç”±äºæ­¤æ­¤è™šæ‹Ÿæœºç½‘ç»œæ˜¯ <strong>NAT</strong> æ¨¡å¼ æ˜¯å¯ä»¥å€ŸåŠ©å®¿ä¸»æœºå»è®¿é—® <strong>å¤–ç½‘</strong> çš„ã€‚</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_5387c7f9aad4ae74127c22f44a330630.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_5387c7f9aad4ae74127c22f44a330630.png"></p><h2 id="ä¸‰-kvmå¸¸ç”¨å‘½ä»¤ä½¿ç”¨"><a href="#ä¸‰-kvmå¸¸ç”¨å‘½ä»¤ä½¿ç”¨" class="headerlink" title="ä¸‰. kvmå¸¸ç”¨å‘½ä»¤ä½¿ç”¨"></a>ä¸‰. kvmå¸¸ç”¨å‘½ä»¤ä½¿ç”¨</h2><blockquote><p><a href="https://zznn-cloud.github.io/2024/02/19/openstack%E4%B8%8A%E4%BD%BF%E7%94%A8windows%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/?highlight=%E5%88%9B%E5%BB%BA">æ­¤å‰åˆ›å»ºwindowsç±»å‹è™šæ‹Ÿæœºè§é“¾æ¥</a></p><h3 id="ä¸€-virshå¸¸ç”¨å‘½ä»¤æ¦‚è§ˆ"><a href="#ä¸€-virshå¸¸ç”¨å‘½ä»¤æ¦‚è§ˆ" class="headerlink" title="ä¸€. virshå¸¸ç”¨å‘½ä»¤æ¦‚è§ˆ"></a>ä¸€. virshå¸¸ç”¨å‘½ä»¤æ¦‚è§ˆ</h3><p>ç»ƒä¹ å‘½ä»¤ä¹‹å‰å®‰è£… <code>yum install -y bash-*</code>ç”¨äºå‘½ä»¤è¡¥å…¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹åˆšé€šè¿‡é•œåƒå¯åŠ¨çš„è™šæ‹Ÿæœºè™šæ‹Ÿæœº / æŸ¥çœ‹--os-variantæ”¯æŒçš„ç±»å‹</span><br><span class="line">virsh list Â  Â  Â  Â  Â  Â  # åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº</span><br><span class="line">osinfo-query os Â  Â  Â  Â # æŸ¥çœ‹æ”¯æŒçš„ç±»å‹</span><br><span class="line"># virt-installå¸¸ç”¨å‘½ä»¤</span><br><span class="line">virsh list --all Â  Â  Â  # åˆ—å‡ºæ‰€æœ‰è™šæœº</span><br><span class="line">virsh start  web01 Â  Â  # å¯åŠ¨æŒ‡å®šè™šæœº</span><br><span class="line">virsh reboot web01 Â  Â  # é‡å¯æŒ‡å®šè™šæœºï¼ˆå…³é—­çŠ¶æ€æ— æ³•é‡å¯ï¼‰</span><br><span class="line">virsh console name Â  Â  # è¿æ¥è™šæ‹Ÿæœº</span><br><span class="line">virsh destroy name Â  Â  # æ‹”æ‰ç”µæºï¼ˆå¾ˆå°‘ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line">virsh undefine web01 Â  # åˆ é™¤è™šæœºæ–‡ä»¶å³åˆ é™¤è™šæ‹Ÿæœºï¼ˆä¸ä¼šåˆ é™¤ç£ç›˜æ–‡ä»¶ï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">virsh domblklist web01 Â  Â  Â  Â  Â  Â  # æŸ¥çœ‹è™šæ‹Ÿæœºç£ç›˜ä¿¡æ¯</span><br><span class="line">virsh dominfo Â   web01 Â  Â  Â  Â  Â  Â  # æŸ¥çœ‹è™šæ‹Ÿæœºé…ç½®ä¿¡æ¯</span><br><span class="line">virsh domiflist  web01 Â  Â  Â  Â  Â  Â  # æŸ¥çœ‹è™šæ‹Ÿç½‘å¡ä¿¡æ¯</span><br><span class="line">virsh dumpxml Â   web01 Â  Â  Â  Â  Â  Â  # ä»¥ xmlæ ¼å¼æŸ¥çœ‹è™šæ‹Ÿæœº</span><br><span class="line">virsh define Â  Â  file-name Â  Â  Â  Â # å¯¼å…¥è™šæ‹Ÿæœº</span><br><span class="line">virsh edit Â  Â  Â  name Â  Â  Â  Â  Â  Â  # ç¼–è¾‘è™šæ‹Ÿæœºé…ç½®ï¼ˆä¸€èˆ¬æ˜¯åœ¨åˆšå®šä¹‰å®Œè™šæ‹Ÿæœºä¹‹åï¼‰è‡ªå¸¦è¯­æ³•æ£€æµ‹</span><br><span class="line">virsh domrename  old-name  new-name Â  # è™šæ‹Ÿæœºé‡å‘½å</span><br><span class="line">virsh vncdisplay web01 Â  Â  Â  Â  Â  Â  Â  Â # æŸ¥çœ‹vncç«¯å£</span><br><span class="line">virsh autostart  name Â  Â  Â  Â  Â  Â  Â  Â  # è™šæ‹Ÿæœºéšæœºé‡å¯</span><br><span class="line">virsh autostart --disable name Â  Â  Â  Â # å–æ¶ˆè™šæ‹Ÿæœºéšæœºé‡å¯</span><br><span class="line"></span><br><span class="line"># å›¾å½¢ç•Œé¢ï¼š</span><br><span class="line">é€šè¿‡æ‰§è¡Œåvirt-managerï¼Œå¯åŠ¨libvirtçš„å›¾å½¢ç•Œé¢ï¼Œåœ¨å›¾å½¢ç•Œé¢ä¸‹å¯ä»¥ä¸€æ­¥ä¸€æ­¥çš„åˆ›å»ºè™šæ‹Ÿæœºï¼Œç®¡ç†è™šæ‹Ÿæœºï¼Œè¿˜å¯ä»¥ç›´æ¥æ§åˆ¶è™šæ‹Ÿæœºçš„æ¡Œé¢ã€‚</span><br><span class="line"># å‘½ä»¤è¡Œï¼š</span><br><span class="line">virsh list Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # æ˜¾ç¤ºæœ¬åœ°æ´»åŠ¨è™šæ‹Ÿæœº</span><br><span class="line">virsh list â€“all Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # æ˜¾ç¤ºæœ¬åœ°æ‰€æœ‰çš„è™šæ‹Ÿæœºï¼ˆæ´»åŠ¨çš„+ä¸æ´»åŠ¨çš„ï¼‰</span><br><span class="line">virsh define ubuntu.xml Â  Â  Â  Â  Â  Â  Â  Â  # é€šè¿‡é…ç½®æ–‡ä»¶å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿæœºï¼ˆè¿™ä¸ªè™šæ‹Ÿæœºè¿˜ä¸æ˜¯æ´»åŠ¨çš„ï¼‰</span><br><span class="line">virsh start ubuntu Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # å¯åŠ¨åå­—ä¸ºubuntuçš„éæ´»åŠ¨è™šæ‹Ÿæœº</span><br><span class="line">virsh create ubuntu.xml Â  Â  Â  Â  Â  Â  Â  Â  # åˆ›å»ºè™šæ‹Ÿæœºï¼ˆåˆ›å»ºåï¼Œè™šæ‹Ÿæœºç«‹å³æ‰§è¡Œï¼Œæˆä¸ºæ´»åŠ¨ä¸»æœºï¼‰</span><br><span class="line">virsh suspend ubuntu Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # æš‚åœè™šæ‹Ÿæœº</span><br><span class="line">virsh resume ubuntu Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # å¯åŠ¨æš‚åœçš„è™šæ‹Ÿæœº</span><br><span class="line">virsh shutdown web01 Â  Â  Â  Â  Â # æ­£å¸¸å…³é—­è™šæ‹Ÿæœº</span><br><span class="line">virsh destroy ubuntu Â  Â  Â  Â  Â # å¼ºåˆ¶æ‹”æ‰ç”µæºå…³é—­è™šæ‹Ÿæœºï¼ˆå¾ˆå°‘ä½¿ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line">virsh domname 2 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # æ˜¾ç¤ºidå·ä¸º2çš„è™šæ‹Ÿæœºå Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </span><br><span class="line">virsh domid ubuntu Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # æ˜¾ç¤ºè™šæ‹Ÿæœºidå· Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="line">virsh domuuid ubuntu Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # æ˜¾ç¤ºè™šæ‹Ÿæœºçš„uuid Â  Â  Â  Â  Â  </span><br><span class="line">virsh domstate ubuntu Â  Â  Â  Â  Â  Â  Â  Â  Â  # æ˜¾ç¤ºè™šæ‹Ÿæœºçš„å½“å‰çŠ¶æ€ Â  Â  Â  Â  Â </span><br><span class="line">virsh dumpxml ubuntu Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # æ˜¾ç¤ºè™šæ‹Ÿæœºçš„å½“å‰é…ç½®æ–‡ä»¶ï¼ˆå¯èƒ½å’Œå®šä¹‰è™šæ‹Ÿæœºæ—¶çš„é…ç½®ä¸åŒï¼Œå› ä¸ºå½“è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œéœ€è¦ç»™# è™šæ‹Ÿæœºåˆ†é…idå·ã€uuidã€vncç«¯å£å·ç­‰ç­‰ï¼‰ Â  Â  Â  Â  Â </span><br><span class="line">virsh setmem ubuntu 512000 Â  Â  Â  Â  Â  Â  Â  # ç»™ä¸æ´»åŠ¨è™šæ‹Ÿæœºè®¾ç½®å†…å­˜å¤§å° Â </span><br><span class="line">virsh setvcpus ubuntu 4 Â  Â  Â  Â  Â  Â  Â  Â  Â # ç»™ä¸æ´»åŠ¨è™šæ‹Ÿæœºè®¾ç½®cpuä¸ªæ•° Â  Â  Â  Â  Â </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="äºŒ-å¤‡ä»½æ¢å¤è™šæ‹Ÿæœº"><a href="#äºŒ-å¤‡ä»½æ¢å¤è™šæ‹Ÿæœº" class="headerlink" title="äºŒ. å¤‡ä»½æ¢å¤è™šæ‹Ÿæœº"></a>äºŒ. å¤‡ä»½æ¢å¤è™šæ‹Ÿæœº</h3><p><strong>å¤‡ä»½è™šæ‹Ÿæœº</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å‡ºè™šæ‹Ÿæœºé…ç½®æ–‡ä»¶</span></span><br><span class="line">virsh dumpxml web01 &gt; web01_bak.xml</span><br><span class="line"><span class="comment"># æ­¤æ—¶æˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸‹æ¢å¤è™šæ‹Ÿæœºå…ˆåˆ é™¤è™šæ‹Ÿæœº</span></span><br></pre></td></tr></table></figure><p><strong>åˆ é™¤è™šæ‹Ÿæœºï¼ˆå…ˆå…³æœºå†åˆ é™¤ï¼‰ æ­¤æ—¶ç£ç›˜æ–‡ä»¶ä»ç„¶æ˜¯è¢«ä¿ç•™çš„</strong></p><p><strong>å¤‡æ³¨</strong>ï¼šæ­¤æ­¥éª¤ä¸ºæ¨¡æ‹Ÿæ¢å¤è™šæ‹Ÿæœºæ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">virsh shutdown web01</span><br><span class="line">virsh undefine web01 </span><br><span class="line">virsh list --all</span><br></pre></td></tr></table></figure><p><strong>æ¢å¤è™šæ‹Ÿæœºï¼ˆä»¥åˆšæ‰çš„å¤‡ä»½æ–‡ä»¶å¯¼å…¥è™šæ‹Ÿæœºï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»å¤‡ä»½æ–‡ä»¶å¯¼å…¥è™šæ‹Ÿæœº</span></span><br><span class="line">virsh define web01_bak.xml</span><br><span class="line"><span class="comment"># æ­¤æ—¶å†çœ‹åˆšæ‰çš„è™šæ‹Ÿæœºåˆå›æ¥äº†</span></span><br><span class="line">virsh list --all</span><br><span class="line"></span><br><span class="line">Id Â   Name Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  State</span><br><span class="line">-----------------------------------------</span><br><span class="line"> - Â   web01 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   shut off</span><br></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆåˆå›æ¥äº†å‘¢ å› ä¸ºæˆ‘ä»¬ä½¿ç”¨virsh undefine åˆ é™¤çš„æ˜¯ /etc/libvirt/qemu è·¯å¾„ä¸‹å¯¹åº”çš„è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_cbceb58948ef431e9a1f63b2c22da55b.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_cbceb58948ef431e9a1f63b2c22da55b.png"></p><h3 id="ä¸‰-è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶è¿ç§»"><a href="#ä¸‰-è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶è¿ç§»" class="headerlink" title="ä¸‰. è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶è¿ç§»"></a>ä¸‰. è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶è¿ç§»</h3><p>å¤‡æ³¨ï¼šæˆ‘ä»¬åˆ›å»ºè™šæ‹Ÿæœºæ—¶ä¼š ç”Ÿæˆäº†ä¸€ä¸ªrawæ ¼å¼çš„ç£ç›˜æ–‡ä»¶ web01-vda.raw</p><p><strong>åˆ›å»ºkvmè·¯å¾„ï¼Œå°†è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶ç§»åŠ¨åˆ°è¯¥ç›®å½•</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºkvmè·¯å¾„ï¼Œå°†è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶ç§»åŠ¨åˆ°è¯¥ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> /kvm &amp;&amp; <span class="built_in">mv</span> /opt/web01-vda.raw /kvm &amp;&amp; <span class="built_in">cd</span> /kvm &amp;&amp; <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><p><strong>ç¼–è¾‘è™šæ‹Ÿæœºé…ç½®ï¼ˆè‡ªå¸¦è¯­æ³•æ£€æµ‹ï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤‡ä»½è™šæ‹Ÿæœºé…ç½®ï¼ˆç¼–è¾‘å‰å…ˆå¤‡ä»½ï¼‰</span></span><br><span class="line">virsh dumpxml web01 &gt; web01_bak.xml</span><br><span class="line"><span class="comment"># ç¼–è¾‘è™šæ‹Ÿæœºé…ç½®</span></span><br><span class="line">virsh edit web01</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹è·¯å¾„ /opt/web01-vda.raw &gt;&gt; /kvm/web01-vda.rawï¼ˆä¿®æ”¹å‰ï¼‰</span></span><br><span class="line">  &lt;devices&gt;</span><br><span class="line"> Â   &lt;emulator&gt;/usr/libexec/qemu-kvm&lt;/emulator&gt;</span><br><span class="line"> Â   &lt;disk <span class="built_in">type</span>=<span class="string">&#x27;file&#x27;</span> device=<span class="string">&#x27;disk&#x27;</span>&gt;</span><br><span class="line"> Â  Â   &lt;driver name=<span class="string">&#x27;qemu&#x27;</span> <span class="built_in">type</span>=<span class="string">&#x27;raw&#x27;</span>/&gt;</span><br><span class="line"> Â  Â   &lt;<span class="built_in">source</span> file=<span class="string">&#x27;/opt/web01-vda.raw&#x27;</span>/&gt; Â  <span class="comment"># æ­¤è·¯å¾„</span></span><br><span class="line"> Â  Â   &lt;target dev=<span class="string">&#x27;vda&#x27;</span> bus=<span class="string">&#x27;virtio&#x27;</span>/&gt;</span><br><span class="line"> Â  Â   &lt;address <span class="built_in">type</span>=<span class="string">&#x27;pci&#x27;</span> domain=<span class="string">&#x27;0x0000&#x27;</span> bus=<span class="string">&#x27;0x00&#x27;</span> slot=<span class="string">&#x27;0x06&#x27;</span> <span class="keyword">function</span>=<span class="string">&#x27;0x0&#x27;</span>/&gt;</span><br><span class="line"> Â   &lt;/disk&gt;</span><br><span class="line"> Â   &lt;disk <span class="built_in">type</span>=<span class="string">&#x27;file&#x27;</span> device=<span class="string">&#x27;cdrom&#x27;</span>&gt;</span><br><span class="line"> Â  Â   &lt;driver name=<span class="string">&#x27;qemu&#x27;</span> <span class="built_in">type</span>=<span class="string">&#x27;raw&#x27;</span>/&gt;</span><br><span class="line"></span><br><span class="line"> <span class="comment"># ä¿®æ”¹å</span></span><br><span class="line"> Â  &lt;devices&gt;</span><br><span class="line"> Â   &lt;emulator&gt;/usr/libexec/qemu-kvm&lt;/emulator&gt;</span><br><span class="line"> Â   &lt;disk <span class="built_in">type</span>=<span class="string">&#x27;file&#x27;</span> device=<span class="string">&#x27;disk&#x27;</span>&gt;</span><br><span class="line"> Â  Â   &lt;driver name=<span class="string">&#x27;qemu&#x27;</span> <span class="built_in">type</span>=<span class="string">&#x27;raw&#x27;</span>/&gt;</span><br><span class="line"> Â  Â   &lt;<span class="built_in">source</span> file=<span class="string">&#x27;/kvm/web01-vda.raw&#x27;</span>/&gt; Â  Â <span class="comment"># æ­¤è·¯å¾„</span></span><br><span class="line"> Â  Â   &lt;target dev=<span class="string">&#x27;vda&#x27;</span> bus=<span class="string">&#x27;virtio&#x27;</span>/&gt;</span><br><span class="line"> Â  Â   &lt;address <span class="built_in">type</span>=<span class="string">&#x27;pci&#x27;</span> domain=<span class="string">&#x27;0x0000&#x27;</span> bus=<span class="string">&#x27;0x00&#x27;</span> slot=<span class="string">&#x27;0x06&#x27;</span> <span class="keyword">function</span>=<span class="string">&#x27;0x0&#x27;</span>/&gt;</span><br><span class="line"> Â   &lt;/disk&gt;</span><br><span class="line"><span class="comment"># æ­¤æ—¶å¯åŠ¨è™šæ‹Ÿæœº</span></span><br><span class="line">virsh start web01</span><br><span class="line"></span><br><span class="line">[root@kvm kvm]<span class="comment"># virsh start web01</span></span><br><span class="line">Domain web01 started</span><br><span class="line"></span><br><span class="line">[root@kvm kvm]<span class="comment"># virsh list --all</span></span><br><span class="line"> Id Â   Name Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  State</span><br><span class="line">----------------------------------------------------</span><br><span class="line"> 5 Â  Â  web01 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   running</span><br></pre></td></tr></table></figure><h3 id="å››-è™šæ‹Ÿæœºé‡å‘½åï¼ˆåªèƒ½åœ¨å…³æœºçŠ¶æ€æ”¹åï¼‰"><a href="#å››-è™šæ‹Ÿæœºé‡å‘½åï¼ˆåªèƒ½åœ¨å…³æœºçŠ¶æ€æ”¹åï¼‰" class="headerlink" title="å››. è™šæ‹Ÿæœºé‡å‘½åï¼ˆåªèƒ½åœ¨å…³æœºçŠ¶æ€æ”¹åï¼‰"></a>å››. è™šæ‹Ÿæœºé‡å‘½åï¼ˆåªèƒ½åœ¨å…³æœºçŠ¶æ€æ”¹åï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…³æœº</span></span><br><span class="line">virsh shutdown web01</span><br><span class="line"><span class="comment"># æ”¹å</span></span><br><span class="line">virsh domrename web01 centos-web01</span><br></pre></td></tr></table></figure><h3 id="äº”-æŸ¥çœ‹è™šæ‹Ÿæœº-vnc-ç«¯å£ï¼ˆè™šæ‹Ÿæœºå¤ªå¤šä¹‹å-VNC-ç«¯å£å°±ä¼šä¸ä¸€æ ·ï¼‰åªæœ‰å¯åŠ¨çŠ¶æ€æ‰ä¼šæœ‰-VNC-ç«¯å£"><a href="#äº”-æŸ¥çœ‹è™šæ‹Ÿæœº-vnc-ç«¯å£ï¼ˆè™šæ‹Ÿæœºå¤ªå¤šä¹‹å-VNC-ç«¯å£å°±ä¼šä¸ä¸€æ ·ï¼‰åªæœ‰å¯åŠ¨çŠ¶æ€æ‰ä¼šæœ‰-VNC-ç«¯å£" class="headerlink" title="äº”. æŸ¥çœ‹è™šæ‹Ÿæœº vnc ç«¯å£ï¼ˆè™šæ‹Ÿæœºå¤ªå¤šä¹‹å VNC ç«¯å£å°±ä¼šä¸ä¸€æ ·ï¼‰åªæœ‰å¯åŠ¨çŠ¶æ€æ‰ä¼šæœ‰ VNC ç«¯å£"></a>äº”. æŸ¥çœ‹è™šæ‹Ÿæœº vnc ç«¯å£ï¼ˆè™šæ‹Ÿæœºå¤ªå¤šä¹‹å VNC ç«¯å£å°±ä¼šä¸ä¸€æ ·ï¼‰åªæœ‰å¯åŠ¨çŠ¶æ€æ‰ä¼šæœ‰ VNC ç«¯å£</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line">virsh start web01</span><br><span class="line"><span class="comment"># æŸ¥çœ‹vncç«¯å£</span></span><br><span class="line">virsh vncdisplay web01</span><br><span class="line">// è¿”å›</span><br><span class="line">:0</span><br></pre></td></tr></table></figure><p>**å¤‡æ³¨ï¼šå•å°è™šæ‹Ÿæœºæ—¶è¿”å› å…¶å®æ­¤ **<strong>0</strong> ä»£è¡¨é»˜è®¤ç«¯å£ <strong>5900</strong> å¤šå°æ—¶ä¾¿ä¼šç½‘ä¸Šå¢åŠ  å¦‚ä¸¤å°æ—¶ æ˜¾ç¤º <strong>1</strong> å³ ä» <strong>5900</strong> å¾€ä¸ŠåŠ  <strong>1</strong> å³ <strong>5901</strong></p><h3 id="å…­-è™šæ‹Ÿæœºéšæœºè‡ªå¯ï¼ˆ-ä¸ºäº†å®¿ä¸»æœºé‡å¯åè™šæ‹Ÿæœºä¹Ÿä¼šé‡å¯-ï¼‰å¦åˆ™å®¿ä¸»æœºé‡å¯-è™šæ‹Ÿæœºä¸ä¼šè‡ªå¯åŠ¨"><a href="#å…­-è™šæ‹Ÿæœºéšæœºè‡ªå¯ï¼ˆ-ä¸ºäº†å®¿ä¸»æœºé‡å¯åè™šæ‹Ÿæœºä¹Ÿä¼šé‡å¯-ï¼‰å¦åˆ™å®¿ä¸»æœºé‡å¯-è™šæ‹Ÿæœºä¸ä¼šè‡ªå¯åŠ¨" class="headerlink" title="å…­.  è™šæ‹Ÿæœºéšæœºè‡ªå¯ï¼ˆ ä¸ºäº†å®¿ä¸»æœºé‡å¯åè™šæ‹Ÿæœºä¹Ÿä¼šé‡å¯ ï¼‰å¦åˆ™å®¿ä¸»æœºé‡å¯ è™šæ‹Ÿæœºä¸ä¼šè‡ªå¯åŠ¨"></a>å…­. è™šæ‹Ÿæœºéšæœºè‡ªå¯ï¼ˆ ä¸ºäº†å®¿ä¸»æœºé‡å¯åè™šæ‹Ÿæœºä¹Ÿä¼šé‡å¯ ï¼‰å¦åˆ™å®¿ä¸»æœºé‡å¯ è™šæ‹Ÿæœºä¸ä¼šè‡ªå¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®ä¸å®¿ä¸»æœºä¸€èµ·éšæœºè‡ªå¯</span></span><br><span class="line">virsh autostart web01</span><br><span class="line"><span class="comment"># æŸ¥çœ‹é‚£äº›è™šæ‹Ÿæœºè®¾ç½®äº†éšæœºè‡ªå¯ï¼ˆä¸€ä¸ªéƒ½æ²¡æœ‰è®¾ç½®çš„è¯æ­¤ç›®å½•ä¸ä¼šç”Ÿæˆä¸è™šæ‹Ÿæœºç›¸åŒåå­—çš„æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="built_in">cd</span> /etc/libvirt/qemu/autostart &amp;&amp; <span class="built_in">ls</span></span><br><span class="line">web01.xml</span><br><span class="line"><span class="comment"># å–æ¶ˆéšæœºè‡ªå¯ï¼ˆæ­¤æ—¶æ­¤/etc/libvirt/qemu/autostartç›®å½•å¯¹åº”æ–‡ä»¶å·²æ¶ˆå¤±ï¼‰</span></span><br><span class="line">virsh autostart web01 --<span class="built_in">disable</span></span><br></pre></td></tr></table></figure><h3 id="ä¸ƒ-é€šè¿‡consoleç™»å½•kvm"><a href="#ä¸ƒ-é€šè¿‡consoleç™»å½•kvm" class="headerlink" title="ä¸ƒ. é€šè¿‡consoleç™»å½•kvm"></a>ä¸ƒ. é€šè¿‡<code>console</code>ç™»å½•<code>kvm</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€šè¿‡consoleç™»å½•è™šæ‹Ÿæœºæ§åˆ¶å°</span></span><br><span class="line">virsh console web01</span><br><span class="line">// è¿”å›</span><br><span class="line">Connected to domain web01</span><br><span class="line">Escape character is ^] Â <span class="comment"># ctrl + ] é€€å‡ºï¼Œé»˜è®¤æ— æ³•ç™»å½•</span></span><br></pre></td></tr></table></figure><p><strong>è™šæ‹Ÿæœºé…ç½®å…è®¸<code>console</code>ç™»å½•</strong></p><p>è¿›å…¥ <strong>KVM</strong> è™šæ‹Ÿæœºä¿®æ”¹å†…æ ¸å‚æ•°å…è®¸ <strong>console</strong> ç™»å½•ï¼Œå…ˆé€šè¿‡ <strong>VNC</strong> æŸ¥çœ‹è™šæ‹Ÿæœº <strong>IP</strong> åœ°å€ï¼Œåœ¨é€šè¿‡å®¿ä¸»æœº <strong>ssh</strong> æ–¹å¼ç™»å½•åˆ° <strong>KVM</strong> å†…éƒ¨å¢åŠ è¯¥é…ç½®é¡¹: grubby-update-kernel=ALL-args=â€console=ttyS0,115200n8â€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥kvmè™šæ‹Ÿæœº</span></span><br><span class="line">ssh -p22 root@192.168.122.39</span><br><span class="line"><span class="comment"># ä¿®æ”¹å†…æ ¸å‚æ•°</span></span><br><span class="line">grubby --update-kernel=ALL --args=<span class="string">&quot;console=ttyS0,115200n8&quot;</span></span><br><span class="line"><span class="comment"># é‡å¯è™šæ‹Ÿæœºç”Ÿæ•ˆ</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><p><strong>éªŒè¯ console ç™»å½•</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># console ç™»å½•è™šæ‹Ÿæœº</span></span><br><span class="line">virsh console web01</span><br><span class="line">// è¿”å›</span><br><span class="line">Connected to domain web01</span><br><span class="line">Escape character is ^] Â  <span class="comment"># å›è½¦</span></span><br><span class="line"></span><br><span class="line">CentOS Linux 7 (Core)</span><br><span class="line">Kernel 3.10.0-1160.el7.x86_64 on an x86_64</span><br><span class="line"></span><br><span class="line">localhost login: Â  Â  Â  Â  <span class="comment"># æ­¤æ—¶å‡ºç°ç™»å½•é€‰é¡¹</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_ee9df9423348cd4db4a62b05f970e4a5.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_ee9df9423348cd4db4a62b05f970e4a5.png"></p></blockquote><h2 id="å››-KVMç£ç›˜ç®¡ç†"><a href="#å››-KVMç£ç›˜ç®¡ç†" class="headerlink" title="å››. KVMç£ç›˜ç®¡ç†"></a>å››. <code>KVM</code>ç£ç›˜ç®¡ç†</h2><p><strong>kvmç£ç›˜æ ¼å¼ä»‹ç»</strong></p><p><strong>raw</strong>: è€ç‰Œæ ¼å¼ï¼Œç”¨ä¸€ä¸ªå­—æ¥è¯´å°±æ˜¯è£¸ï¼Œä¹Ÿå°±æ˜¯èµ¤è£¸è£¸ï¼ŒæŒ‡å®šå¤šå¤§ç©ºé—´å°±åˆ›å»ºå¤šå¤§ç©ºé—´ï¼Œç›´æ¥å ç”¨æŒ‡å®šå¤§å°çš„ç©ºé—´åˆ† <strong>50G</strong> å ç”¨ <strong>50G</strong> ï¼Œæ€§èƒ½ä¸Šæ¥è¯´çš„è¯è¿˜æ˜¯ä¸é”™çš„ï¼Œä¸æ”¯æŒå¿«ç…§åŠŸèƒ½ã€‚</p><p><strong><strong>cow</strong>: æ›¾ç» qemu çš„å†™æ—¶æ‹·è´çš„é•œåƒæ ¼å¼ï¼ˆç”¨æˆ·åœ¨ä¿®æ”¹æ•°æ®æ—¶ï¼Œç³»ç»Ÿä¼šæ‹·è´ä¸€ä»½æºæ–‡ä»¶å‰¯æœ¬åˆ°å†…å­˜ä¸­è®©å…¶ä¿®æ”¹ï¼Œç­‰åˆ°æ•°æ®çœŸæ­£è¢«ä¿®æ”¹æ—¶æ‰åˆ†é…ç©ºé—´ï¼‰ç›®å‰ç”±äºå†å²é—ç•™åŸå› ä¸æ”¯æŒçª—å£æ¨¡å¼ã€‚ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´æ˜¯ä¸ªå¼ƒå©´ï¼Œè¿˜æ²¡ç­‰å®ƒæˆç†Ÿå°±æ­»åœ¨è…¹ä¸­ï¼Œåæ¥è¢« qcow æ ¼å¼æ‰€å–ä»£ã€‚</strong> <strong><strong>qcow</strong>: ä¸€ä»£çš„ qemu çš„ cow æ ¼å¼ï¼Œåˆšåˆšå‡ºç°çš„æ—¶å€™æœ‰æ¯”è¾ƒå¥½çš„ç‰¹æ€§ï¼Œä½†å…¶æ€§èƒ½å’Œ raw æ ¼å¼å¯¹æ¯”è¿˜æ˜¯æœ‰å¾ˆå¤§çš„å·®è·ï¼Œç›®å‰å·²ç»è¢«æ–°ç‰ˆæœ¬çš„qcow2 å–ä»£ã€‚</strong></p><p><strong>qcow2</strong>: æ˜¯ openstack é»˜è®¤ä¹Ÿæ˜¯æ¯”è¾ƒæ¨èçš„æ ¼å¼ï¼Œæ–‡ä»¶æ¯”è¾ƒå°è€Œä¸”åšå¿«ç…§ä¹Ÿæ¯”è¾ƒå°ï¼Œç©ºé—´æ˜¯åŠ¨æ€å¢é•¿ï¼ˆç”¨å¤šå°‘å å¤šå°‘ ä½†ä¸ä¼šè¶…è¿‡å®šä¹‰çš„å®¹é‡ï¼‰ï¼Œæ˜¯ç›®å‰æ¯”è¾ƒä¸»æµçš„ä¸€ç§è™šæ‹ŸåŒ–é•œåƒæ ¼å¼ï¼Œç»è¿‡ä¸€ä»£çš„ä¼˜åŒ–ï¼Œç›®å‰ qcow2 çš„æ€§èƒ½ä¸Šæ¥è¿‘ raw è£¸æ ¼å¼çš„æ€§èƒ½ã€‚</p><p><strong>æˆ‘ä»¬åˆ›å»ºæ—¶å°±æ˜¯ä½¿ç”¨ raw æ ¼å¼åˆ›å»ºçš„</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_6aadb90398f3b87f7888616461239e9d.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_6aadb90398f3b87f7888616461239e9d.png"></p><p><strong>æŸ¥çœ‹è™šæ‹Ÿæœºç£ç›˜</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹è™šæ‹Ÿæœºç£ç›˜</span></span><br><span class="line">virsh domblklist web01</span><br><span class="line">// è¿”å›</span><br><span class="line">Target Â  Â  Source</span><br><span class="line">------------------------------------------------</span><br><span class="line">vda Â  Â  Â  Â  /kvm/web01-vda.raw</span><br><span class="line">hda Â  Â  Â  Â  -</span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹ç£ç›˜è¯¦ç»†ä¿¡æ¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç£ç›˜è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">qemu-img info /kvm/web01-vda.raw</span><br><span class="line">// è¿”å›</span><br><span class="line">image: /kvm/web01-vda.raw</span><br><span class="line">file format: raw</span><br><span class="line">virtual size: 10G (10737418240 bytes)</span><br><span class="line">disk size: 1.7G</span><br></pre></td></tr></table></figure><h3 id="1-åˆ›å»º-qcow2-æ ¼å¼ç£ç›˜çš„è™šæ‹Ÿæœº"><a href="#1-åˆ›å»º-qcow2-æ ¼å¼ç£ç›˜çš„è™šæ‹Ÿæœº" class="headerlink" title="1. åˆ›å»º qcow2 æ ¼å¼ç£ç›˜çš„è™šæ‹Ÿæœº"></a><code>1.</code> åˆ›å»º qcow2 æ ¼å¼ç£ç›˜çš„è™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º qcow2 æ ¼å¼ç£ç›˜çš„è™šæ‹Ÿæœº</span></span><br><span class="line">virt-install --virt-type kvm \</span><br><span class="line">--os-type=linux \</span><br><span class="line">--os-variant rhel7 \</span><br><span class="line">--name web02 \</span><br><span class="line">--memory 1024 \</span><br><span class="line">--vcpus 1 --disk /kvm/web02-vda.qcow2,format=qcow2,size=10 --cdrom /opt/CentOS-7-x86_64-Minimal-2009.iso \</span><br><span class="line">--network network=default --graphics vnc,listen=0.0.0.0 --noautoconsole </span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹ VNC ç«¯å£ å¯è§ç«¯å£æ˜¯ 5901</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm kvm]<span class="comment"># virsh vncdisplay web02</span></span><br><span class="line">:1</span><br></pre></td></tr></table></figure><p><strong>VNC è¿æ¥</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_7185c32c48a56a379db496bfe893fee4.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_7185c32c48a56a379db496bfe893fee4.png"></p><h3 id="2-qcow2æ ¼å¼ç£ç›˜è™šæ‹Ÿæœºä½¿ç”¨"><a href="#2-qcow2æ ¼å¼ç£ç›˜è™šæ‹Ÿæœºä½¿ç”¨" class="headerlink" title="2. qcow2æ ¼å¼ç£ç›˜è™šæ‹Ÿæœºä½¿ç”¨"></a><code>2. qcow2</code>æ ¼å¼ç£ç›˜è™šæ‹Ÿæœºä½¿ç”¨</h3><p><strong>æŸ¥çœ‹ç£ç›˜æ ¼å¼</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç£ç›˜æ ¼å¼</span></span><br><span class="line">qemu-img info web02-vda.qcow2</span><br><span class="line">//è¿”å›</span><br><span class="line">image: web02-vda.qcow2</span><br><span class="line">file format: qcow2</span><br><span class="line">virtual size: 10G (10737418240 bytes)</span><br><span class="line">disk size: 1.5G Â  Â  Â  Â  <span class="comment"># ç”¨å¤šå°‘å å¤šå°‘</span></span><br><span class="line">cluster_size: 65536</span><br><span class="line">Format specific information:</span><br><span class="line"> Â   compat: 1.1</span><br><span class="line"> Â   lazy refcounts: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><strong>æ“ä½œ</strong>ï¼š</p><ul><li><strong>å¼€æœºè™šæ‹Ÿæœºå®¿ä¸»æœºé‡å¯è™šæ‹Ÿæœºè‡ªå¯åŠ¨</strong><code>virsh autostart web01</code></li><li><strong>ç™»å½•ï¼š</strong><code>ssh -p22 root@192.168.122.46</code></li><li><strong>è™šæ‹Ÿæœºé…ç½®å…è®¸ console ç™»å½•ï¼š</strong><code>grubby --update-kernel=ALL --args=&quot;console=ttyS0,115200n8&quot;</code></li><li><strong>ç”Ÿæ•ˆï¼ˆ</strong><code>virsh shutdown web02 &amp;&amp; virsh start web02</code>ï¼‰</li><li><strong>é€šè¿‡consoleç™»å½•ï¼š</strong><code>virsh console web02</code></li></ul><h2 id="äº”-kvmç£ç›˜è™šæ‹Ÿæœºå¿«ç…§ç®¡ç†"><a href="#äº”-kvmç£ç›˜è™šæ‹Ÿæœºå¿«ç…§ç®¡ç†" class="headerlink" title="äº”. kvmç£ç›˜è™šæ‹Ÿæœºå¿«ç…§ç®¡ç†"></a>äº”. <code>kvm</code>ç£ç›˜è™šæ‹Ÿæœºå¿«ç…§ç®¡ç†</h2><p><strong>raw ç£ç›˜æ ¼å¼è™šæ‹Ÿæœº****ä¸æ”¯æŒåšå¿«ç…§</strong>ï¼Œqcow2 <strong>æ”¯æŒå¿«ç…§</strong>ï¼Œå¹¶ä¸”å¿«ç…§å°±ä¿å­˜åœ¨ qcow2 çš„ç£ç›˜æ–‡ä»¶ä¸­ã€‚</p><h3 id="1-åˆ›å»ºå¿«ç…§"><a href="#1-åˆ›å»ºå¿«ç…§" class="headerlink" title="1.åˆ›å»ºå¿«ç…§"></a><code>1.</code>åˆ›å»ºå¿«ç…§</h3><p><strong>æ ¼å¼: virsh snapshot-create-as â€“name å¿«ç…§åç§° è™šæ‹Ÿæœºåç§°</strong></p><blockquote><p><strong>è§£é‡Šï¼š</strong></p><p><strong>virsh snapshot-create-as åˆ›å»ºå¿«ç…§</strong> <strong>â€“name å¿«ç…§åç§°</strong> <strong>web02 è™šæ‹Ÿæœºåç§°</strong></p></blockquote><p>ä¸º <strong>web02</strong> è™šæ‹Ÿæœºåˆ›å»ºå¿«ç…§ï¼ˆå¼€å…³æœºéƒ½å¯ä»¥åšå¿«ç…§ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸º web02 è™šæ‹Ÿæœºåˆ›å»ºå¿«ç…§</span></span><br><span class="line">virsh snapshot-create-as --name  kuaizhao_web2_env_ok  web2</span><br><span class="line">//è¿”å›</span><br><span class="line">Domain snapshot kuaizhao_web2_env_ok created</span><br><span class="line"><span class="comment"># åˆ›å»ºæˆåŠŸåæŸ¥çœ‹å¿«ç…§</span></span><br><span class="line">virsh snapshot-list web02</span><br><span class="line">//è¿”å›</span><br><span class="line"> Name Â  Â  Â  Â  Â  Â  Â  Â  Creation Time Â  Â  Â  Â  Â  Â  State</span><br><span class="line">------------------------------------------------------------</span><br><span class="line"> kuaizhao_web2_env_ok 2024-04-21 16:30:45 +0800 running</span><br></pre></td></tr></table></figure><p><strong>éªŒè¯å¿«ç…§</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç™»å½•è™šæ‹Ÿæœº</span></span><br><span class="line">virsh console web02</span><br><span class="line"><span class="comment"># åˆ›å»ºå¿«ç…§æµ‹è¯•æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">touch</span> kuaizhao-test.txt</span><br></pre></td></tr></table></figure><h3 id="2-è¿˜åŸå¿«ç…§"><a href="#2-è¿˜åŸå¿«ç…§" class="headerlink" title="2. è¿˜åŸå¿«ç…§"></a><code>2.</code> è¿˜åŸå¿«ç…§</h3><p><strong>æ ¼å¼: virsh snapshot-revert è™šæ‹Ÿæœºåç§° â€“snapshotname å¿«ç…§åç§°</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡Œæ¢å¤å¿«ç…§</span></span><br><span class="line">virsh snapshot-revert web02 --snapshotname kuaizhao_web2_env_ok</span><br></pre></td></tr></table></figure><p><strong>å¤‡æ³¨ï¼šæŸ¥çœ‹åˆ›å»ºçš„æ–‡ä»¶è¿˜å­˜åœ¨ä¸ ï¼ˆä¸å­˜åœ¨ æ­¤æ—¶éªŒè¯æˆåŠŸï¼‰</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_d7d30c0888f72a011b3c3eafe594c960.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_d7d30c0888f72a011b3c3eafe594c960.png"></p><blockquote><p><strong>æç¤ºï¼šåˆ«åˆ é™¤è™šæ‹Ÿæœºï¼Œåˆ é™¤è™šæ‹Ÿæœºåæ²¡æœ‰è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶æ— æ³•è¿˜åŸ</strong></p></blockquote><h3 id="3-åˆ é™¤å¿«ç…§"><a href="#3-åˆ é™¤å¿«ç…§" class="headerlink" title="3. åˆ é™¤å¿«ç…§"></a><code>3.</code> åˆ é™¤å¿«ç…§</h3><p><strong>æ ¼å¼: virsh snapshot-delete è™šæ‹Ÿæœºåç§° â€“snapshotname å¿«ç…§åç§°</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤å¿«ç…§</span></span><br><span class="line">virsh snapshot-delete web02 --snapshotname kuaizhao_web2_env_ok </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ˜¯å¦åˆ é™¤æˆåŠŸ</span></span><br><span class="line">virsh snapshot-list web02</span><br><span class="line">//è¿”å›</span><br><span class="line"> Name Â  Â  Â  Â  Â  Â  Â  Â  Creation Time Â  Â  Â  Â  Â  Â  State</span><br><span class="line">------------------------------------------------------------</span><br></pre></td></tr></table></figure><h2 id="å…­-kvmè™šæ‹Ÿæœºå…‹éš†"><a href="#å…­-kvmè™šæ‹Ÿæœºå…‹éš†" class="headerlink" title="å…­. kvmè™šæ‹Ÿæœºå…‹éš†"></a>å…­. <code>kvm</code>è™šæ‹Ÿæœºå…‹éš†</h2><p><strong>è™šæ‹Ÿæœºçš„å…‹éš†æ–¹å¼åˆ†ä¸ºå®Œæ•´å…‹éš†ä¸é“¾æ¥å…‹éš†ï¼Œä¸‹å›¾æ˜¯VMwareè™šæ‹Ÿæœºå¯¹å®Œæ•´å…‹éš†ä¸é“¾æ¥å…‹éš†çš„è§£é‡Š</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_197336118a437919c95a1c428c7843e3.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_197336118a437919c95a1c428c7843e3.png"></p><h3 id="1-KVMå®Œæ•´å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰"><a href="#1-KVMå®Œæ•´å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰" class="headerlink" title="1. KVMå®Œæ•´å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰"></a><code>1.</code> KVMå®Œæ•´å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰</h3><p><strong>æ ¼å¼: virt-clone â€“auto-c1one -o è™šæ‹Ÿæœºåç§° -n å…‹éš†åç§°</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">virt-clone --auto-clone -o  web01 -n  web01-clone</span><br><span class="line">virsh list --all</span><br></pre></td></tr></table></figure><p><strong>virt-clone è¿™ä¸ªå‘½ä»¤æ˜¯åŸºäºå…¨å…‹éš†çš„ï¼Œä¹Ÿå°±æ˜¯æ‹·è´è™šæ‹Ÿç£ç›˜æ–‡ä»¶å’Œè™šæ‹Ÿé…ç½®æ–‡ä»¶æ¥å®ç°çš„å®Œæ•´å…‹éš†ï¼Œé€Ÿåº¦æ…¢ï¼Œå ç”¨ç©ºé—´å¤šï¼Œå…‹éš†åç£ç›˜æ–‡ä»¶ä½äºè™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶å­˜æ”¾å¤„ å…‹éš†åè™šæ‹Ÿæœºé…ç½®æ–‡ä»¶ä½äº /etc/libvirt/qemu ã€‚</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_fba87f13fbf52ded0499e19cf7ba2d85.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_fba87f13fbf52ded0499e19cf7ba2d85.png"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_ff39c0b60324fd6b2061dee1d709a4fc.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_ff39c0b60324fd6b2061dee1d709a4fc.png"></p><p><strong>éªŒè¯å…‹éš†åçš„è™šæ‹Ÿæœº (æˆåŠŸ)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨å…‹éš†åçš„è™šæ‹Ÿæœº </span></span><br><span class="line">virsh start web01-clone</span><br><span class="line"><span class="comment"># å…‹éš†åçš„è™šæ‹Ÿæœºå’Œè™šæ‹Ÿæœºæ˜¯ä¸€æ ·çš„æ‰€ä»¥å¯ä»¥é€šè¿‡consoleç™»å½•</span></span><br><span class="line">virsh console web01-clone</span><br></pre></td></tr></table></figure><p><strong>æ­¤æ—¶å¯ä»¥çœ‹åˆ°IPåœ°å€æ˜¯ä¸ä¸€æ ·çš„ å…‹éš†ä»¥åæˆ‘ä»¬ä¸éœ€è¦å»æ‰‹åŠ¨æ›´æ”¹åˆ«çš„ä¾‹å¦‚IPç­‰é…ç½®</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_d5eebd88967b1ae72a00a4a5dc1dbf82.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_d5eebd88967b1ae72a00a4a5dc1dbf82.png"></p><h3 id="1-KVMé“¾æ¥å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰"><a href="#1-KVMé“¾æ¥å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰" class="headerlink" title="1. KVMé“¾æ¥å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰"></a><code>1.</code> KVMé“¾æ¥å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰</h3><p>kvmå¹¶æ²¡æœ‰æä¾›é“¾æ¥å…‹éš†çš„å‘½ä»¤æˆ–å·¥å…·ï¼Œåªèƒ½æ‰‹åŠ¨å®ç°ï¼Œå®ç°æ–¹å¼æ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªç£ç›˜é“¾æ¥æ–‡ä»¶æ¥å®ç°çš„é“¾æ¥å…‹éš†ã€‚<strong>æ ¼å¼: qemu-img create -f qcow2 -b æºç£ç›˜æ–‡ä»¶ é“¾æ¥ç£ç›˜æ–‡ä»¶ ï¼ˆç£ç›˜æ ¼å¼éœ€è¦ä¿æŒä¸€è‡´ï¼‰</strong></p><ul><li><strong>-f æŒ‡å®šç£ç›˜æ–‡ä»¶æ ¼å¼</strong></li><li><strong>-b æŒ‡å®šåŸºäºæºç£ç›˜æ–‡ä»¶åˆ›å»ºä¸€ä¸ªé“¾æ¥ç£ç›˜æ–‡ä»¶</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºé“¾æ¥å…‹éš†ï¼ˆæ­¤æ—¶å…‰æœ‰ç£ç›˜æ–‡ä»¶æˆ‘ä»¬æ— æ³•åŸºäºè¿™ä¸ªç£ç›˜æ–‡ä»¶å»åˆ›å»ºè™šæ‹Ÿæœº è¿˜å¾—ä¿®æ”¹ç£ç›˜æ–‡ä»¶é…ç½®ï¼‰</span></span><br><span class="line">qemu-img create -f qcow2 -b /kvm/web02-vda.qcow2 /kvm/web02-1ink-clone-1.qcow2</span><br><span class="line"><span class="comment"># æŸ¥çœ‹é“¾æ¥ç£ç›˜æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line">qemu-img info /kvm/web02-1ink-clone-1.qcow2</span><br></pre></td></tr></table></figure><p>backing file: /kvm/web02-vda.qcow2 ï¼ˆæºç£ç›˜æ–‡ä»¶ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å‡ºåŸå§‹æœºçš„é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹ç£ç›˜æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">virsh dumpxml web02 &gt; web02-link-clone-1.xml</span><br><span class="line"><span class="comment"># éœ€è¦ä¿®æ”¹çš„å†…å®¹å¦‚ä¸‹</span></span><br><span class="line">vim web02-link-clone-1.xml</span><br><span class="line">...</span><br><span class="line"><span class="comment"># ä¿®æ”¹è™šæ‹Ÿæœºåç§°(ä¿®æ”¹ä¸ºå…‹éš†åçš„æœºå™¨çš„åç§°)</span></span><br><span class="line">ç”± &lt;name&gt;web02&lt;/name&gt; æ”¹ &lt;name&gt;web02-link-clone&lt;/name&gt;</span><br><span class="line"><span class="comment"># åˆ é™¤uuidï¼ˆåˆ æ‰ä»¥åå¯åŠ¨æ˜¯ä¼šè‡ªåŠ¨ç”Ÿæˆçš„ï¼‰</span></span><br><span class="line">&lt;uuid&gt;0fb934c1-5232-410f-b290-97604f22307e&lt;/uuid&gt;</span><br><span class="line"><span class="comment"># ä¿®æ”¹ç£ç›˜æ–‡ä»¶è·¯å¾„åŠåç§°</span></span><br><span class="line">ç”± &lt;<span class="built_in">source</span> file=<span class="string">&#x27;/kvm/web02-vda.qcow2&#x27;</span>/&gt; æ”¹ &lt;<span class="built_in">source</span> file=<span class="string">&#x27;/kvm/web02-1ink-clone-1.qcow2&#x27;</span>/&gt;</span><br><span class="line"><span class="comment"># åˆ é™¤macåœ°å€ï¼ˆåˆ æ‰ä»¥åå¯åŠ¨æ˜¯ä¼šè‡ªåŠ¨ç”Ÿæˆçš„ï¼‰</span></span><br><span class="line">&lt;mac address=<span class="string">&#x27;52:54:00:fb:cb:a4&#x27;</span>/&gt;</span><br><span class="line">...</span><br><span class="line">ä¿å­˜ï¼</span><br><span class="line"><span class="comment"># å¯¼å…¥è™šæ‹Ÿæœº</span></span><br><span class="line">virsh define web02-link-clone-1.xml</span><br><span class="line">virsh list</span><br><span class="line"><span class="comment"># å¼€å¯è™šæ‹Ÿæœº</span></span><br><span class="line">virsh start web02-link-clone</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_523d5dd801e9c7ce92e49bc0d6fb1264.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_523d5dd801e9c7ce92e49bc0d6fb1264.png"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_906abec6cee86807f80f23a43c6ad276.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_906abec6cee86807f80f23a43c6ad276.png"></p><h2 id="ä¸ƒ-KVMè™šæ‹Ÿæœºç½‘ç»œé…ç½®"><a href="#ä¸ƒ-KVMè™šæ‹Ÿæœºç½‘ç»œé…ç½®" class="headerlink" title="ä¸ƒ. KVMè™šæ‹Ÿæœºç½‘ç»œé…ç½®"></a>ä¸ƒ. KVMè™šæ‹Ÿæœºç½‘ç»œé…ç½®</h2><p><strong>kvmè™šæ‹Ÿæœºç½‘ç»œä»‹ç»</strong></p><p><strong>libvirt</strong> æœåŠ¡å®‰è£…åï¼Œé»˜è®¤ä¼šå®‰è£…ä¸€å— <strong>virbr0</strong> çš„è™šæ‹Ÿç½‘å¡ï¼Œlibvirt åœ¨åˆ›å»º KVM è™šæ‹Ÿæœºåï¼Œé»˜è®¤ä½¿ç”¨äº†ä¸€ä¸ªåä¸ºdefaultçš„natç½‘ç»œï¼Œåœ°å€æ®µä¸º 192.168.122.0/24ï¼Œè¿™ä¸ªç½‘ç»œé»˜è®¤ä½¿ç”¨virbr0(è™šæ‹Ÿäº¤æ¢æœº)ä½œä¸ºæ¡¥æ¥æ¥å£ï¼Œä¸ºè™šæ‹Ÿæœºæä¾›ç½‘ç»œè½¬å‘æœåŠ¡ï¼Œé»˜è®¤ç½‘æ®µ 192.168.122.0/24ï¼Œä½¿ç”¨dnsmasq æ¥ä¸ºä½¿ç”¨ nat ç½‘ç»œçš„è™šæ‹Ÿæœºæä¾› dns åŠ dhcp æœåŠ¡ã€‚</p><p><strong>virbr0ç½‘å¡ é»˜è®¤å ç”¨.1è¿™ä¸ªåœ°å€è™šæ‹Ÿæœºåœ°å€ä» .2 å¼€å§‹é…ç½®</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">virbr0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000</span><br><span class="line"> Â   <span class="built_in">link</span>/ether 52:54:00:28:9c:13 brd ff:ff:ff:ff:ff:ff</span><br><span class="line"> Â   inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0</span><br><span class="line"> Â  Â  Â  valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure><p><strong>dhcpåˆ†é…åˆ°è™šæ‹Ÿæœºçš„ipåˆ—è¡¨åœ¨ä»¥ä¸‹æ–‡ä»¶æŸ¥çœ‹: /var/lib/libvirt/dnsmasq/default.conf ï¼ˆIPåœ°å€æ®µå¯ä»¥ä½¿ç”¨ï¼Œé»˜è®¤çš„ä¹Ÿå¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dhcpåˆ†é…åˆ°è™šæ‹Ÿæœºçš„ipåˆ—è¡¨</span></span><br><span class="line"><span class="built_in">cat</span>  /var/lib/libvirt/dnsmasq/default.conf</span><br><span class="line">...</span><br><span class="line"><span class="comment">##WARNING:  THIS IS AN AUTO-GENERATED FILE. CHANGES TO IT ARE LIKELY TO BE</span></span><br><span class="line"><span class="comment">##OVERWRITTEN AND LOST.  Changes to this configuration should be made using:</span></span><br><span class="line"><span class="comment">## Â   virsh net-edit default</span></span><br><span class="line"><span class="comment">## or other application using the libvirt API.</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">## dnsmasq conf file created by libvirt</span></span><br><span class="line">strict-order</span><br><span class="line">pid-file=/var/run/libvirt/network/default.pid</span><br><span class="line">except-interface=lo</span><br><span class="line">bind-dynamic</span><br><span class="line">interface=virbr0 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="comment"># kvmè™šæ‹Ÿæœºä½¿ç”¨çš„ç½‘å¡</span></span><br><span class="line">dhcp-range=192.168.122.2,192.168.122.254 Â <span class="comment"># dhcpåˆ†é…çš„åœ°å€æ®µ</span></span><br><span class="line">dhcp-no-override</span><br><span class="line">dhcp-authoritative</span><br><span class="line">dhcp-lease-max=253</span><br><span class="line">dhcp-hostsfile=/var/lib/libvirt/dnsmasq/default.hostsfile</span><br><span class="line">addn-hosts=/var/lib/libvirt/dnsmasq/default.addnhosts</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="1-kvmè™šæ‹Ÿæœºnatç½‘ç»œé…ç½®"><a href="#1-kvmè™šæ‹Ÿæœºnatç½‘ç»œé…ç½®" class="headerlink" title="1.kvmè™šæ‹Ÿæœºnatç½‘ç»œé…ç½®"></a><code>1.</code>kvmè™šæ‹Ÿæœºnatç½‘ç»œé…ç½®</h3><p><strong>ä¿®æ”¹virbr0åœ°å€æ®µ</strong></p><p><strong>å¯ä»¥ä¿®æ”¹ç½‘æ®µï¼Œä¹Ÿå¯ä»¥ç”¨é»˜è®¤ç½‘æ®µï¼Œå¦‚éœ€ä¿®æ”¹é€šè¿‡å¦‚ä¸‹æ–¹å¼:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹åœ°å€æ®µ (macåœ°å€ä¸æ›´æ”¹ ä¿®æ”¹å¦‚ä¸‹ä¸¤æ®µå³å¯)</span></span><br><span class="line">virsh net-edit default</span><br><span class="line">åŸ</span><br><span class="line">...</span><br><span class="line">  &lt;ip address=<span class="string">&#x27;192.168.122.1&#x27;</span> netmask=<span class="string">&#x27;255.255.255.0&#x27;</span>&gt;</span><br><span class="line"> Â   &lt;dhcp&gt;</span><br><span class="line"> Â  Â   &lt;range start=<span class="string">&#x27;192.168.122.2&#x27;</span> end=<span class="string">&#x27;192.168.122.254&#x27;</span>/&gt;</span><br><span class="line">...</span><br><span class="line">ä¿®æ”¹ä¸º10åœ°å€æ®µ</span><br><span class="line">...</span><br><span class="line">  &lt;ip address=<span class="string">&#x27;192.168.10.1&#x27;</span> netmask=<span class="string">&#x27;255.255.255.0&#x27;</span>&gt;</span><br><span class="line"> Â   &lt;dhcp&gt;</span><br><span class="line"> Â  Â   &lt;range start=<span class="string">&#x27;192.168.10.2&#x27;</span> end=<span class="string">&#x27;192.168.10.254&#x27;</span>/&gt;</span><br><span class="line">...</span><br><span class="line"><span class="comment"># ä¿å­˜</span></span><br></pre></td></tr></table></figure><p><strong>é‡æ–°å®šä¹‰ç½‘ç»œï¼Œdefaultç½‘ç»œçš„é…ç½®æ–‡ä»¶: /etc/libvirt/qemu/networks/default.xml</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨æ­¤å‘½ä»¤é‡æ–°å®šä¹‰é…ç½®æ–‡ä»¶ (åˆ·æ–°)</span></span><br><span class="line">virsh net-define /etc/libvirt/qemu/networks/default.xml</span><br><span class="line">//è¿”å›</span><br><span class="line">Network default defined from /etc/libvirt/qemu/networks/default.xml</span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="built_in">cat</span> /etc/libvirt/qemu/networks/default.xml</span><br><span class="line">...</span><br><span class="line">  &lt;ip address=<span class="string">&#x27;192.168.10.1&#x27;</span> netmask=<span class="string">&#x27;255.255.255.0&#x27;</span>&gt;</span><br><span class="line"> Â   &lt;dhcp&gt;</span><br><span class="line"> Â  Â   &lt;range start=<span class="string">&#x27;192.168.10.2&#x27;</span> end=<span class="string">&#x27;192.168.10.254&#x27;</span>/&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><strong>åˆ é™¤ç½‘ç»œï¼ˆå…³é—­è¿è¡Œçš„è™šæ‹Ÿæœºï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœæ­¢ç½‘å¡ï¼ˆå…³é—­è¿è¡Œçš„è™šæ‹Ÿæœºï¼‰</span></span><br><span class="line">virsh net-destroy default</span><br><span class="line"><span class="comment"># å…³é—­æ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœºï¼ˆå¯ä¸å…³ï¼‰</span></span><br><span class="line">virsh shutdown web02</span><br></pre></td></tr></table></figure><p><strong>å¯åŠ¨ç½‘å¡</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨ç½‘å¡</span></span><br><span class="line">virsh net-start default</span><br></pre></td></tr></table></figure><p><strong>é‡å¯libvirtd</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡å¯libvirtd</span></span><br><span class="line">systemctl restart libvirtd</span><br></pre></td></tr></table></figure><p><strong>éªŒè¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®¿ä¸»æœºæ‰§è¡Œ</span></span><br><span class="line">ip a s</span><br><span class="line"><span class="comment"># éªŒè¯è™šæ‹Ÿæœºç½‘ç»œ æ­¤æ—¶è™šæ‹Ÿæœºç½‘ç»œå·²å˜æˆäº†10æ®µ</span></span><br><span class="line">virsh console web01</span><br><span class="line"><span class="comment"># è·å–IP</span></span><br><span class="line">dhclient</span><br><span class="line">// è¿”å›</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class="line"> Â   <span class="built_in">link</span>/ether 52:54:00:00:75:bf brd ff:ff:ff:ff:ff:ff</span><br><span class="line"> Â   inet 192.168.10.39/24 brd 192.168.10.255 scope global dynamic eth0</span><br><span class="line"> Â  Â  Â  valid_lft 3599sec preferred_lft 3599sec</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_257b8884805c43a286817995dfdf648e.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_257b8884805c43a286817995dfdf648e.png"></p><p>ä»ç°åœ¨å¼€å§‹ä½¿ç”¨çš„ <strong>default</strong> ç½‘ç»œå°±æ˜¯ <strong>10</strong> æ®µäº†</p><h3 id="2-kvm-è™šæ‹Ÿæœºé…ç½®å›ºå®š-IP"><a href="#2-kvm-è™šæ‹Ÿæœºé…ç½®å›ºå®š-IP" class="headerlink" title="2.kvm è™šæ‹Ÿæœºé…ç½®å›ºå®š IP"></a><code>2.</code>kvm è™šæ‹Ÿæœºé…ç½®å›ºå®š IP</h3><p><strong>å¯åŠ¨ä¸€ä¸ªKVMå¹¶ç™»å½•å¹¶é…ç½®å›ºå®šIPåœ°å€</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">virsh start web02</span><br><span class="line">virsh console web02</span><br><span class="line">ip a s</span><br></pre></td></tr></table></figure><p><strong>kvm é…ç½®å›ºå®š IP åœ°å€ï¼ˆä¸ä¼ ç»Ÿç‰©ç†æœºä¸€æ ·ä¿®æ”¹ç½‘å¡é…ç½®æ–‡ä»¶å°±å¯ä»¥äº†ï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=none Â  Â <span class="comment"># å°†é»˜è®¤çš„dhcpä¿®æ”¹ä¸ºnone</span></span><br><span class="line">DEFROUTE=<span class="built_in">yes</span></span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=<span class="built_in">yes</span></span><br><span class="line">IPV6_AUTOCONF=<span class="built_in">yes</span></span><br><span class="line">IPV6_DEFROUTE=<span class="built_in">yes</span></span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=eth0</span><br><span class="line">UUID=0d71e612-7fca-4663-914e-9c9f356d0d82</span><br><span class="line">DEVICE=eth0</span><br><span class="line">ONBOOT=<span class="built_in">yes</span> Â  Â  Â  <span class="comment"># ä¿®æ”¹ä¸ºyes</span></span><br><span class="line"><span class="comment"># æ–°å¢</span></span><br><span class="line">IPADDR=<span class="string">&quot;192.168.10.10&quot;</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="line">GATEWAY=<span class="string">&quot;192.168.10.1&quot;</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </span><br><span class="line">NETMASK=<span class="string">&quot;255.255.255.0&quot;</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="line">DNS1=<span class="string">&quot;223.5.5.5&quot;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åé‡å¯ç½‘å¡ç”Ÿæ•ˆï¼š<strong>systemctl restart network</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_8ff6fe32b5abd9443531f7335d7b120f.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_8ff6fe32b5abd9443531f7335d7b120f.png"></p><p>**æç¤º: **<strong>KVM</strong> è™šæ‹Ÿæœºè®¿é—®å¤–éƒ¨ç½‘ç»œè®°ä½ <a target="_blank" rel="noopener" href="https://wn-apple-teawine.fun/2023/06/02/%E9%85%8D%E7%BD%AEsnat%E4%BD%BF%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AEinternet%E7%9A%84%E5%86%85%E7%BD%91%E6%9C%BA%E5%99%A8%E9%80%9A%E8%BF%87%E5%85%B6%E4%BB%96%E6%9C%BA%E5%99%A8%E5%87%BA%E5%A4%96%E7%BD%91/?highlight=snat">iptables SNAT</a> æ¨¡å¼è¿›è¡Œäº†æºåœ°å€è½¬æ¢ï¼Œå¦‚æœå¤–éƒ¨ç½‘ç»œéœ€è¦è®¿é—®åˆ° <strong>KVM</strong> è™šæ‹Ÿæœºä¸­ï¼Œéœ€è¦åœ¨å®¿ä¸»æœºé€šè¿‡ <strong>iptables</strong> æ·»åŠ ç«¯å£æ˜ å°„æ¥å®ç°ï¼Œå¦‚æœä¸å¸Œæœ›é€šè¿‡ç«¯å£æ˜ å°„æ¥å®ç°ï¼Œå¯ä»¥ä½¿ç”¨ <strong>KVMçš„æ¡¥æ¥ç½‘ç»œ</strong> æ›´åŠ æ–¹ä¾¿ã€‚</p><h2 id="ä¹-kvm-åˆ›å»ºæ¡¥æ¥ç½‘ç»œ"><a href="#ä¹-kvm-åˆ›å»ºæ¡¥æ¥ç½‘ç»œ" class="headerlink" title="ä¹. kvm åˆ›å»ºæ¡¥æ¥ç½‘ç»œ"></a>ä¹. kvm åˆ›å»ºæ¡¥æ¥ç½‘ç»œ</h2><p><strong>åœ¨KVMè™šæ‹Ÿæœºä¸­ï¼ŒBridge(æ¡¥æ¥)æ¨¡å¼å¯ä»¥è®© KVM è™šæ‹Ÿæœºå’Œå®¿ä¸»æœºå…±äº«ä¸€ä¸ªç‰©ç†ç½‘ç»œè®¾å¤‡æ¥è¿æ¥ç½‘ç»œï¼Œè¿™æ · KVM è™šæ‹Ÿæœºå¯ä»¥è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œè€Œå¤–éƒ¨ç½‘ç»œä¹Ÿå¯ä»¥ç›´æ¥è®¿é—® KVM è™šæ‹Ÿæœºï¼ŒBridgeæ¡¥æ¥æ¨¡å¼ä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼Œåº”ç”¨ä¹Ÿéå¸¸å¹¿æ³›ã€‚</strong></p><p><strong>åˆ›å»ºæ¡¥æ¥ç½‘å¡ï¼ˆæ‰§è¡Œåˆ›å»ºåéœ€è¦é‡å¯ç³»ç»Ÿæ‰èƒ½çœ‹åˆ°ï¼‰</strong> å°†å®¿ä¸»æœºå·¥ä½œçš„ç½‘å¡ç»‘å®šåˆ° br0 æ¡¥æ¥ç½‘å¡ä¸Š (br0ç°åœ¨ä¸å­˜åœ¨)</p><ul><li><strong>æ ¼å¼: virsh iface-bridge ens32 br0</strong></li><li><strong>ens33 ä¸ºå®¿ä¸»æœºç½‘å¡</strong></li><li><strong>br0 ä¸ºæ¡¥æ¥ç½‘å¡</strong></li></ul><h3 id="1-åˆ›å»ºæ¡¥æ¥ç½‘å¡"><a href="#1-åˆ›å»ºæ¡¥æ¥ç½‘å¡" class="headerlink" title="1.åˆ›å»ºæ¡¥æ¥ç½‘å¡"></a><code>1.</code>åˆ›å»ºæ¡¥æ¥ç½‘å¡</h3><blockquote><p><a target="_blank" rel="noopener" href="http://sunlight.zznnwn.cloudns.biz/2024/02/19/openstack%E4%B8%8A%E4%BD%BF%E7%94%A8windows%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/?highlight=%E9%95%9C%E5%83%8F">å®ç°å½¢å¼å…¶å®åœ¨åšä¸»å¦ä¸€ç¯‡æ–‡ç« ä¸­å·²æœ‰æåŠ | &gt; é“¾æ¥</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†å®¿ä¸»æœºå·¥ä½œçš„ç½‘å¡ç»‘å®šåˆ° br0 æ¡¥æ¥ç½‘å¡</span></span><br><span class="line">virsh iface-bridge ens33 br0</span><br><span class="line">//è¿”å›</span><br><span class="line">ä½¿ç”¨é™„åŠ è®¾å¤‡ br0 ç”Ÿæˆæ¡¥æ¥ ens32 å¤±è´¥</span><br><span class="line"><span class="comment"># é‡å¯ç³»ç»Ÿåç™»å½•æŸ¥çœ‹ç½‘å¡</span></span><br><span class="line">ip a s </span><br><span class="line">...</span><br><span class="line">ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state UP group default qlen 1000</span><br><span class="line"> Â   <span class="built_in">link</span>/ether 00:0c:29:23:67:1e brd ff:ff:ff:ff:ff:ff</span><br><span class="line">3: br0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000</span><br><span class="line"> Â   <span class="built_in">link</span>/ether 00:0c:29:23:67:1e brd ff:ff:ff:ff:ff:ff</span><br><span class="line"> Â   inet 10.0.0.10/8 brd 10.255.255.255 scope global br0</span><br><span class="line">...</span><br><span class="line"><span class="comment"># æ­¤æ—¶pingä¸é€šç™¾åº¦</span></span><br><span class="line">ping www.baidu.com</span><br><span class="line"><span class="comment"># è§£å†³ç½‘å¡æ·»åŠ DNSå³å¯</span></span><br><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-br0</span><br><span class="line">...</span><br><span class="line">DEVICE=<span class="string">&quot;br0&quot;</span></span><br><span class="line">ONBOOT=<span class="string">&quot;yes&quot;</span></span><br><span class="line">TYPE=<span class="string">&quot;Bridge&quot;</span></span><br><span class="line">BOOTPROTO=<span class="string">&quot;none&quot;</span></span><br><span class="line">IPADDR=<span class="string">&quot;10.0.0.10&quot;</span></span><br><span class="line">GATEWAY=<span class="string">&quot;10.0.0.220&quot;</span></span><br><span class="line">IPV6INIT=<span class="string">&quot;yes&quot;</span></span><br><span class="line">IPV6_AUTOCONF=<span class="string">&quot;yes&quot;</span></span><br><span class="line">DHCPV6C=<span class="string">&quot;no&quot;</span></span><br><span class="line">STP=<span class="string">&quot;on&quot;</span></span><br><span class="line">DELAY=<span class="string">&quot;0&quot;</span></span><br><span class="line">DNS1=<span class="string">&quot;223.5.5.5&quot;</span> Â <span class="comment"># æ·»åŠ æ­¤</span></span><br><span class="line">....</span><br><span class="line"><span class="comment"># ç”Ÿæ•ˆ</span></span><br><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure><p><strong>å¤‡æ³¨ï¼šæ­¤æ—¶å®¿ä¸»æœº ens33 ç½‘å¡æ²¡æœ‰è‡ªå·±çš„ IP åœ°å€ï¼Œç½‘å¡å¯„ç”Ÿåœ¨å®ƒèº«ä¸Šï¼Œç½‘æ¡¥ä¸ç‰©ç†ç½‘å£ MAC åœ°å€ç›¸åŒ</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_9376b88c60933a7b09a87ec71a768aff.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_9376b88c60933a7b09a87ec71a768aff.png"></p><h2 id="å-åˆ›å»º-kvm-è™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥ç½‘ç»œ"><a href="#å-åˆ›å»º-kvm-è™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥ç½‘ç»œ" class="headerlink" title="å. åˆ›å»º kvm è™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥ç½‘ç»œ"></a>å. åˆ›å»º <code>kvm</code> è™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥ç½‘ç»œ</h2><p><strong>åˆ›å»º kvm è™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥ç½‘å¡ï¼ˆå®‰è£…å®Œæˆç³»ç»Ÿï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º kvm è™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥ç½‘å¡</span></span><br><span class="line">virt-install --virt-type kvm \</span><br><span class="line">--os-type=linux \</span><br><span class="line">--os-variant rhel7 \</span><br><span class="line">--name web03 \</span><br><span class="line">--memory 1024 \</span><br><span class="line">--vcpus 1 --disk /kvm/web03-vda.qcow2,format=qcow2,size=10 --cdrom /opt/CentOS-7-x86_64-Minimal-2009.iso \</span><br><span class="line">--network bridge=br0 --graphics vnc,listen=0.0.0.0 --noautoconsole </span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ—è¡¨</span></span><br><span class="line">virsh list</span><br><span class="line"><span class="comment"># æŸ¥çœ‹vncç«¯å£ï¼ˆ5902ï¼‰</span></span><br><span class="line">virsh vncdisplay web03</span><br><span class="line">:2</span><br></pre></td></tr></table></figure><p><strong>é…ç½®é™æ€åœ°å€ åœ°å€ä¸ºä¸å®¿ä¸»æœºåŒä¸€ä¸ªç½‘æ®µ ä¸”æ²¡æœ‰è¢«å ç”¨çš„ç½‘æ®µ</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_288e666dc41e472b5b532cc4fd38d635.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_288e666dc41e472b5b532cc4fd38d635.png"></p><p><strong>éªŒè¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç­‰å¾…ç›¸å½“ä¸€æ®µæ—¶é—´</span></span><br><span class="line">virsh start web03</span><br><span class="line"><span class="comment"># æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line">virsh list</span><br><span class="line"><span class="comment"># è¿œç¨‹è¿æ¥æµ‹è¯•ï¼ˆå¯è¿é€šå¤–ç½‘æ­£å¸¸pingé€šç™¾åº¦ï¼‰</span></span><br><span class="line">ssh -p22 root@10.0.0.185</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_ccce45df3c03202f8b55bc31adb1b817.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_ccce45df3c03202f8b55bc31adb1b817.png"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_52de4dfd8d24e6c18177342d745e60f6.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_52de4dfd8d24e6c18177342d745e60f6.png"></p><h2 id="åä¸€-ä¿®æ”¹kvmè™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥æ¨¡å¼"><a href="#åä¸€-ä¿®æ”¹kvmè™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥æ¨¡å¼" class="headerlink" title="åä¸€. ä¿®æ”¹kvmè™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥æ¨¡å¼"></a>åä¸€. ä¿®æ”¹<code>kvm</code>è™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥æ¨¡å¼</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line">virsh list</span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹è™šæ‹Ÿæœºç½‘å¡ä¿¡æ¯</strong> <strong>æ ¼å¼: virsh domiflist è™šæ‹Ÿæœºåç§°</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹è™šæ‹Ÿæœºweb03ç½‘å¡</span></span><br><span class="line">virsh domiflist web03</span><br><span class="line">//è¿”å›</span><br><span class="line">Interface  Type Â  Â  Â  Source Â  Â  Model Â  Â  Â  MAC</span><br><span class="line">-------------------------------------------------------</span><br><span class="line">vnet0 Â  Â   bridge Â  Â  br0 Â  Â  Â   virtio Â  Â  Â 52:54:00:68:3e:8d</span><br></pre></td></tr></table></figure><p><strong>å…³æœºçŠ¶æ€ä¸‹</strong> ä¿®æ”¹ç½‘ç»œæ¨¡å¼ä¸º <strong>bridge</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹è™šæ‹Ÿæœºé…ç½®</span></span><br><span class="line">virsh edit web02</span><br><span class="line"></span><br><span class="line">åŸ &lt;interface <span class="built_in">type</span>=<span class="string">&#x27;network&#x27;</span>&gt;  æ”¹ &lt;interface <span class="built_in">type</span>=<span class="string">&#x27;bridge&#x27;</span>&gt; Â <span class="comment"># ä¿®æ”¹ç±»å‹</span></span><br><span class="line">åŸ &lt;<span class="built_in">source</span> network=<span class="string">&#x27;default&#x27;</span>/&gt; æ”¹ &lt;<span class="built_in">source</span> bridge=<span class="string">&#x27;br0&#x27;</span>/&gt; Â  Â  <span class="comment"># ç½‘å¡åç§°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨è™šæ‹ŸæœºéªŒè¯</span></span><br><span class="line">virsh start web02</span><br><span class="line"><span class="comment"># é€šè¿‡vnc/consoleç™»å½•é…ç½®é™æ€IP</span></span><br><span class="line">virsh vncdisplay web02 æˆ– virsh console web02</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_4f21ccb77b8d5dd6719b7488e808320c.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_4f21ccb77b8d5dd6719b7488e808320c.png"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_0e88cdc4e62769bb5458975545f4269e.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_0e88cdc4e62769bb5458975545f4269e.png"></p><p>é…ç½®å®Œæˆå <strong>ssh</strong> è¿œç¨‹è¿æ¥æµ‹è¯• &gt;&gt; æˆåŠŸã€‚</p><h2 id="åäºŒ-kvmç½‘ç»œåŸç†"><a href="#åäºŒ-kvmç½‘ç»œåŸç†" class="headerlink" title="åäºŒ. kvmç½‘ç»œåŸç†"></a>åäºŒ. <code>kvm</code>ç½‘ç»œåŸç†</h2><p>æ¯å° <strong>KVM</strong> å¯åŠ¨åï¼Œéƒ½ä¼šåœ¨ <strong>å®¿ä¸»æœº</strong> åˆ›å»ºä¸€ä¸ªä»¥ <strong>vnet</strong> å¼€å¤´çš„ç½‘å¡(ä» <strong>vnet0</strong> å¼€å§‹)ï¼Œç”¨äºæ‰“é€š <strong>è™šæ‹Ÿæœº</strong> ä¸ <strong>å®¿ä¸»æœº</strong> ä¹‹é—´çš„ç½‘ç»œã€‚</p><h3 id="0-ç½‘ç»œæ¨¡å¼æ‹–å¸ƒå›¾"><a href="#0-ç½‘ç»œæ¨¡å¼æ‹–å¸ƒå›¾" class="headerlink" title="0.ç½‘ç»œæ¨¡å¼æ‹–å¸ƒå›¾"></a><code>0.</code>ç½‘ç»œæ¨¡å¼æ‹–å¸ƒå›¾</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_502c79bc51c37605ad93625e7c73b987.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_502c79bc51c37605ad93625e7c73b987.png"></p><h3 id="1-å®¿ä¸»æœºç½‘å¡é…ç½®"><a href="#1-å®¿ä¸»æœºç½‘å¡é…ç½®" class="headerlink" title="1.å®¿ä¸»æœºç½‘å¡é…ç½®"></a><code>1.</code>å®¿ä¸»æœºç½‘å¡é…ç½®</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_7e62f395165b9a771a1f429a170a2cc0.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_7e62f395165b9a771a1f429a170a2cc0.png"></p><p>é€šè¿‡ <strong>brctl show</strong> å¯ä»¥çœ‹åˆ° <strong>vnet</strong> ç½‘å¡ä½¿ç”¨çš„å®¿ä¸»æœºç½‘å¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@kvm ~]# brctl show</span><br><span class="line">bridge name Â  Â  bridge id Â  Â  Â  Â  Â  Â  Â  STP enabled Â  Â  interfaces</span><br><span class="line">br0 Â  Â  Â  Â  Â  Â  8000.000c2923671e Â  Â  Â  yes Â  Â  Â  Â  Â  Â  ens33</span><br><span class="line"> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   vnet0</span><br><span class="line">virbr0 Â  Â  Â  Â  Â 8000.525400289c13 Â  Â  Â  yes Â  Â  Â  Â  Â  Â  virbr0-nic</span><br></pre></td></tr></table></figure><h2 id="åä¸‰-kvmè™šæ‹Ÿæœºç¡¬ä»¶çƒ­æ·»åŠ æŠ€æœ¯"><a href="#åä¸‰-kvmè™šæ‹Ÿæœºç¡¬ä»¶çƒ­æ·»åŠ æŠ€æœ¯" class="headerlink" title="åä¸‰.  kvmè™šæ‹Ÿæœºç¡¬ä»¶çƒ­æ·»åŠ æŠ€æœ¯"></a>åä¸‰. kvmè™šæ‹Ÿæœºç¡¬ä»¶çƒ­æ·»åŠ æŠ€æœ¯</h2><h3 id="1-çƒ­æ·»åŠ ç£ç›˜"><a href="#1-çƒ­æ·»åŠ ç£ç›˜" class="headerlink" title="1.çƒ­æ·»åŠ ç£ç›˜"></a><code>1.</code>çƒ­æ·»åŠ ç£ç›˜</h3><p><strong>æ¡ˆä¾‹: ä¸º web03 è™šæ‹Ÿæœºæ·»åŠ ä¸€å—æ–° qcow2 ç¡¬ç›˜ï¼Œå¹¶å¯¹ç¡¬ç›˜ç©ºé—´è¿›è¡Œæ‰©å®¹ (KVMè™šæ‹Ÿæœºé»˜è®¤ç£ç›˜åç§°: vdaã€vdbã€vdcä¾æ¬¡ç±»æ¨ï¼Œå¯è¿›å…¥KVMå†…éƒ¨æŸ¥çœ‹)</strong></p><p><strong>æ·»åŠ ä¹‹å‰ (åªæœ‰ä¸€å—10Gçš„ç¡¬ç›˜)</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@web03 ~]# lsblk</span><br><span class="line">NAME Â  Â  Â  Â  Â  Â  Â  Â   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sr0 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 11:0 Â  Â 1 1024M Â 0 rom Â </span><br><span class="line">vda Â  Â  Â  Â  Â  Â  Â  Â  Â  252:0 Â  Â 0 Â  10G Â 0 disk </span><br><span class="line">â”œâ”€vda1 Â  Â  Â  Â  Â  Â  Â  Â 252:1 Â  Â 0 Â   1G Â 0 part /boot</span><br><span class="line">â””â”€vda2 Â  Â  Â  Â  Â  Â  Â  Â 252:2 Â  Â 0 Â   9G Â 0 part </span><br><span class="line">  â”œâ”€centos_web03-root 253:0 Â  Â 0 Â   8G Â 0 lvm  /</span><br><span class="line">  â””â”€centos_web03-swap 253:1 Â  Â 0 Â   1G Â 0 lvm  [SWAP]</span><br></pre></td></tr></table></figure><p><strong>åœ¨ kvm ç›®å½•åˆ›å»ºä¸€å— qcow2 æ ¼å¼çš„è™šæ‹Ÿç¡¬ç›˜ï¼Œå®¹é‡ä¸º 10G</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºä¸€å—qcow2æ ¼å¼çš„è™šæ‹Ÿç¡¬ç›˜ï¼Œå®¹é‡ä¸º10G</span></span><br><span class="line">cd /kvm</span><br><span class="line">qemu-img create -f qcow2 /kvm/web03-vdb.qcow2 10G</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ç£ç›˜è¯¦æƒ…</span></span><br><span class="line">qemu-img info /kvm/web03-vdb.qcow2</span><br><span class="line">//è¿”å›</span><br><span class="line">image: /kvm/web03-vdb.qcow2</span><br><span class="line">file format: qcow2</span><br><span class="line">virtual size: 10G (10737418240 bytes)</span><br></pre></td></tr></table></figure><p><strong>æ°¸ä¹…æ·»åŠ ç£ç›˜</strong></p><ul><li><strong>â€“live åœ¨çº¿æ·»åŠ </strong></li><li><strong>â€“config æ°¸ä¹…ä¿å­˜é…ç½® ï¼ˆä¸åŠ ä¸´æ—¶ç”Ÿæ•ˆ è™šæ‹Ÿæœºä¸€é‡å¯å°±æ²¡äº†ï¼‰</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ°¸ä¹…æ·»åŠ ç£ç›˜ï¼ˆç»™web03 æ·»åŠ 10Gç£ç›˜ æŒ‡å®šæ·»åŠ åè™šæ‹Ÿæœºç£ç›˜åç§°ä¸º vdb æ ¼å¼ä¸º qcow2 æ ¼å¼ï¼‰</span></span><br><span class="line">virsh attach-disk web03 /kvm/web03-vdb.qcow2 vdb --subdriver qcow2 --live --config</span><br><span class="line">//è¿”å›</span><br><span class="line">Disk attached successfully</span><br></pre></td></tr></table></figure><p><strong>web03è™šæ‹ŸæœºéªŒè¯</strong>ï¼ˆæˆåŠŸæ·»åŠ ä¸€å—10G vdbç£ç›˜ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç™»å½•è™šæ‹Ÿæœº</span></span><br><span class="line">virsh console web03</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ç£ç›˜è¯¦æƒ…</span></span><br><span class="line">lsblk</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ ¼å¼åŒ–æŒ‚è½½éªŒè¯ä½¿ç”¨(æ­£å¸¸ä½¿ç”¨)</span></span><br><span class="line">mkfs.xfs /dev/vdb /mnt</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_df1d528276047646321dc497bb964d7c.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_df1d528276047646321dc497bb964d7c.png"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_98ea2a719d22c44088b0687abc0ff47e.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_98ea2a719d22c44088b0687abc0ff47e.png"></p><p><strong>æ°¸ä¹…å‰¥ç¦» (éœ€è¦æå‰å¸è½½)</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è™šæ‹Ÿæœºå…ˆå¸è½½ç£ç›˜</span></span><br><span class="line">umonut /dev/vdb</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> å®¿ä¸»æœºæ‰§è¡Œæ“ä½œ æ°¸ä¹…å‰¥ç¦»è™šæ‹Ÿæœºç£ç›˜</span></span><br><span class="line">virsh detach-disk web03 vdb --live --config</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è™šæ‹ŸæœºæŸ¥çœ‹ï¼ˆæˆåŠŸï¼‰</span></span><br><span class="line">lsblk</span><br><span class="line">//è¿”å›</span><br><span class="line">NAME Â  Â  Â  Â  Â  Â  Â  Â   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sr0 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 11:0 Â  Â 1 1024M Â 0 rom Â </span><br><span class="line">vda Â  Â  Â  Â  Â  Â  Â  Â  Â  252:0 Â  Â 0 Â  10G Â 0 disk </span><br><span class="line">â”œâ”€vda1 Â  Â  Â  Â  Â  Â  Â  Â 252:1 Â  Â 0 Â   1G Â 0 part /boot</span><br><span class="line">â””â”€vda2 Â  Â  Â  Â  Â  Â  Â  Â 252:2 Â  Â 0 Â   9G Â 0 part </span><br><span class="line">  â”œâ”€centos_web03-root 253:0 Â  Â 0 Â   8G Â 0 lvm  /</span><br><span class="line">  â””â”€centos_web03-swap 253:1 Â  Â 0 Â   1G Â 0 lvm  [SWAP]</span><br></pre></td></tr></table></figure><h3 id="2-å¯¹åˆšæ‰å‰¥ç¦»çš„qcow2ç£ç›˜ç©ºé—´æ‰©å®¹-æ— æ³•åœ¨çº¿æ‰©å®¹ï¼Œå¿…é¡»å…ˆå‰¥ç¦»"><a href="#2-å¯¹åˆšæ‰å‰¥ç¦»çš„qcow2ç£ç›˜ç©ºé—´æ‰©å®¹-æ— æ³•åœ¨çº¿æ‰©å®¹ï¼Œå¿…é¡»å…ˆå‰¥ç¦»" class="headerlink" title="2. å¯¹åˆšæ‰å‰¥ç¦»çš„qcow2ç£ç›˜ç©ºé—´æ‰©å®¹ (æ— æ³•åœ¨çº¿æ‰©å®¹ï¼Œå¿…é¡»å…ˆå‰¥ç¦»)"></a><code>2.</code> å¯¹åˆšæ‰å‰¥ç¦»çš„qcow2ç£ç›˜ç©ºé—´æ‰©å®¹ (æ— æ³•åœ¨çº¿æ‰©å®¹ï¼Œå¿…é¡»å…ˆå‰¥ç¦»)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç»™åˆ›å»ºçš„ç£ç›˜æ‰©å®¹5G</span></span><br><span class="line">qemu-img resize /kvm/web03-vdb.qcow2 +5G</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ‰©å®¹è¯¦æƒ…</span></span><br><span class="line">qemu-img info /kvm/web03-vdb.qcow2</span><br><span class="line">//è¿”å›</span><br><span class="line">image: /kvm/web03-vdb.qcow2</span><br><span class="line">file format: qcow2</span><br><span class="line">virtual size: 15G (16106127360 bytes)</span><br></pre></td></tr></table></figure><p><strong>æ·»åŠ ç£ç›˜åˆ°è™šæ‹Ÿæœºï¼ˆå®¿ä¸»æœºæ‰§è¡Œï¼‰</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ°¸ä¹…æ·»åŠ ç£ç›˜ï¼ˆç»™web03 æ·»åŠ 10Gç£ç›˜ æŒ‡å®šæ·»åŠ åè™šæ‹Ÿæœºç£ç›˜åç§°ä¸º vdb æ ¼å¼ä¸º qcow2 æ ¼å¼ï¼‰</span></span><br><span class="line">virsh attach-disk web03 /kvm/web03-vdb.qcow2 vdb --subdriver qcow2 --live --config</span><br><span class="line">//è¿”å›</span><br><span class="line">Disk attached successfully</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‚è½½éªŒè¯ï¼ˆå…ˆå‰å·²ç»æ ¼å¼åŒ–è¿‡ç£ç›˜ æ­¤æ—¶åˆ‡è®°ä¸èƒ½å†æ ¼å¼åŒ– å¦åˆ™ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼‰</span> </span><br><span class="line">[root@web03 ~]# mount /dev/vdb /mnt</span><br><span class="line">[root@web03 ~]# cd /mnt</span><br><span class="line">[root@web03 mnt]# ls</span><br><span class="line">1.ttx</span><br><span class="line">[root@web03 mnt]# </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ·æ–°åˆ°<span class="built_in">df</span> -Th</span></span><br><span class="line">xfs_growfs /mnt</span><br><span class="line">//è¿”å›</span><br><span class="line">meta-data=/dev/vdb Â  Â  Â  Â  Â  Â  Â  isize=512 Â  Â agcount=4, agsize=655360 blks</span><br><span class="line"> Â  Â  Â  Â  = Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sectsz=512 Â  attr=2, projid32bit=1</span><br><span class="line"> Â  Â  Â  Â  = Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  crc=1 Â  Â  Â  Â finobt=0 spinodes=0</span><br><span class="line">data Â  Â  = Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  bsize=4096 Â  blocks=2621440, imaxpct=25</span><br><span class="line"> Â  Â  Â  Â  = Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sunit=0 Â  Â  Â swidth=0 blks</span><br><span class="line">naming Â  =version 2 Â  Â  Â  Â  Â  Â  Â bsize=4096 Â  ascii-ci=0 ftype=1</span><br><span class="line">log Â  Â  Â =internal Â  Â  Â  Â  Â  Â  Â  bsize=4096 Â  blocks=2560, version=2</span><br><span class="line"> Â  Â  Â  Â  = Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sectsz=512 Â  sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none Â  Â  Â  Â  Â  Â  Â  Â  Â  extsz=4096 Â  blocks=0, rtextents=0</span><br></pre></td></tr></table></figure><p><strong>å…ˆå‰å·²ç»æ ¼å¼åŒ–è¿‡ç£ç›˜ æ­¤æ—¶åˆ‡è®°ä¸èƒ½å†æ ¼å¼åŒ– å¦åˆ™ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_05199bb86394af821c0bc709165683a0.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_05199bb86394af821c0bc709165683a0.png"></p><h2 id="åå››-çƒ­æ·»åŠ ç½‘å¡"><a href="#åå››-çƒ­æ·»åŠ ç½‘å¡" class="headerlink" title="åå››. çƒ­æ·»åŠ ç½‘å¡"></a>åå››. çƒ­æ·»åŠ ç½‘å¡</h2><h3 id="1-çƒ­æ·»åŠ ç½‘å¡"><a href="#1-çƒ­æ·»åŠ ç½‘å¡" class="headerlink" title="1.çƒ­æ·»åŠ ç½‘å¡"></a><code>1.</code>çƒ­æ·»åŠ ç½‘å¡</h3><p><strong>æ¡ˆä¾‹: ä¸ºKVMè™šæ‹Ÿæœº web03 æ·»åŠ ä¸€å—ç½‘å¡</strong></p><p><strong>æ ¼å¼: virsh attach-interface è™šæ‹Ÿæœºåç§° â€“type bridgeâ€“source ç½‘æ¡¥å â€“model virtio</strong></p><ul><li><strong>â€“type ç”¨äºæŒ‡å®šç½‘å¡ç±»å‹</strong></li><li><strong>â€“source å®¿ä¸»æœºç½‘æ¡¥å</strong></li><li><strong>â€“model virtio é©±åŠ¨æ¨¡å¼(ç”¨äºæŒ‡å®šç½‘å¡ç±»å‹ä»¥ethå¼€å¤´)</strong></li><li><strong>â€“live åœ¨çº¿æ·»åŠ </strong></li><li><strong>â€“config æ°¸ä¹…ä¿å­˜é…ç½®(ä¸åŠ ä¸´æ—¶ç”Ÿæ•ˆ)</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç»™ web03 çƒ­æ·»åŠ ä¸€å—bridgeç±»å‹ç½‘å¡</span></span><br><span class="line">virsh attach-interface web03 --type bridge Â --source br0 --model virtio --live --config</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç»™ web03 çƒ­æ·»åŠ ä¸€å—natç±»å‹ç½‘å¡ (åªæœ‰ä¸€å—ç½‘å¡æ¨¡å¼æ—¶ --<span class="built_in">source</span>éœ€è¦æ˜¯ens33)</span></span><br><span class="line">virsh attach-interface web03 --type default --source br0 --model virtio --live --config</span><br></pre></td></tr></table></figure><p><strong>è™šæ‹ŸæœºéªŒè¯ï¼š</strong> <code>ip a s</code> æˆåŠŸæ·»åŠ äº†ä¸€å— <strong>eth1</strong> ç½‘å¡ å¹¶ä¸”ç½‘å¡è‡ªåŠ¨è·å–ä¸º10.0.0.186</p><p>è‹¥è¦ é…ç½®æˆå›ºå®šåœ°å€æ—¶éœ€è¦æ–°å»ºä¸€ä¸ªç½‘å¡é…ç½®æ–‡ä»¶ é…ç½® IP æˆ–è€…ä½¿ç”¨ nmtui è®¾ç½®ç½‘å¡</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_d11dedc5313b8c669b47717ebb3752a8.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_d11dedc5313b8c669b47717ebb3752a8.png"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_bb39dccafdd291a95d611dfe61554255.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_bb39dccafdd291a95d611dfe61554255.png"></p><p><strong>ç½‘å¡ä¸æƒ³è¦äº†æ€ä¹ˆåŠå‘¢ çƒ­åˆ é™¤å³å¯ã€‚</strong></p><h3 id="2-çƒ­åˆ é™¤è™šæ‹Ÿæœºç½‘å¡ï¼ˆå®¿ä¸»æœºæ‰§è¡Œï¼‰"><a href="#2-çƒ­åˆ é™¤è™šæ‹Ÿæœºç½‘å¡ï¼ˆå®¿ä¸»æœºæ‰§è¡Œï¼‰" class="headerlink" title="2.çƒ­åˆ é™¤è™šæ‹Ÿæœºç½‘å¡ï¼ˆå®¿ä¸»æœºæ‰§è¡Œï¼‰"></a><code>2.</code>çƒ­åˆ é™¤è™šæ‹Ÿæœºç½‘å¡ï¼ˆå®¿ä¸»æœºæ‰§è¡Œï¼‰</h3><ul><li><strong>â€“mac +é€šè¿‡macåœ°å€åˆ é™¤ ï¼ˆæŒ‡å®šç½‘å¡macåœ°å€åˆ é™¤ï¼‰</strong></li><li><strong>è™šæ‹Ÿæœºä½¿ç”¨ ip a / ifconfig æŸ¥çœ‹ï¼Œmacåœ°å€</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">çƒ­åˆ é™¤è™šæ‹Ÿæœº web03 ç½‘å¡ (æˆåŠŸå‰¥ç¦»)</span></span><br><span class="line">virsh detach-interface web03 --type bridge --mac 52:54:00:c8:3e:2a --live --config</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_1e84857802829a410b17411183904d57.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_1e84857802829a410b17411183904d57.png"></p><h3 id="åäº”-çƒ­æ·»åŠ å†…å­˜"><a href="#åäº”-çƒ­æ·»åŠ å†…å­˜" class="headerlink" title="åäº”. çƒ­æ·»åŠ å†…å­˜"></a>åäº”. çƒ­æ·»åŠ å†…å­˜</h3><h3 id="1-åˆ›å»ºæ—¶æŒ‡å®šcpu-å†…å­˜æœ€å¤§æ•°é‡"><a href="#1-åˆ›å»ºæ—¶æŒ‡å®šcpu-å†…å­˜æœ€å¤§æ•°é‡" class="headerlink" title="1.åˆ›å»ºæ—¶æŒ‡å®šcpu å†…å­˜æœ€å¤§æ•°é‡"></a><code>1.</code>åˆ›å»ºæ—¶æŒ‡å®šcpu å†…å­˜æœ€å¤§æ•°é‡</h3><p><strong>çƒ­æ·»åŠ å†…å­˜ä¸CPU å‰ææ˜¯åˆ›å»ºKVMè™šæ‹Ÿæœºæ—¶è®¾ç½®maxmemoryä¸maxvcpuså‚æ•° ä¹Ÿå¯åˆ›å»ºå®Œæˆåé€šè¿‡å‘½ä»¤å®šä¹‰</strong></p><ul><li><strong>maxmemory å®šä¹‰è™šæœºæœ€å¤§å¯ä»¥åˆ†é…å†…å­˜çš„å¤§å°</strong></li><li><strong>maxvcpus å®šä¹‰è™šæ‹Ÿæœºæœ€å¤§å¯ä»¥ä½¿ç”¨çš„CPUæ ¸æ•°</strong></li></ul><p><strong>åˆ›å»ºKVMè™šæ‹Ÿæœºï¼Œå¹¶è®¾ç½®maxmemoryä¸maxvcpusçš„å€¼</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºè™šæ‹Ÿæœº</span></span><br><span class="line">virt-install --virt-type kvm \</span><br><span class="line">--os-type=linux \</span><br><span class="line">--os-variant rhel7 \</span><br><span class="line">--name web04 \</span><br><span class="line">--memory 1024,maxmemory=2048 \</span><br><span class="line">--vcpus 1,maxvcpus=4 --disk /kvm/web04-vda.qcow2,format=qcow2,size=10 \</span><br><span class="line">--cdrom /opt/CentOS-7-x86_64-Minimal-2009.iso --network bridge=br0 --graphics vnc,listen=0.0.0.0 --noautoconsole </span><br></pre></td></tr></table></figure><h3 id="2-åˆ›å»ºåé€šè¿‡å‘½ä»¤æŒ‡å®š-cpu-å†…å­˜æœ€å¤§æ•°é‡"><a href="#2-åˆ›å»ºåé€šè¿‡å‘½ä»¤æŒ‡å®š-cpu-å†…å­˜æœ€å¤§æ•°é‡" class="headerlink" title="2.åˆ›å»ºåé€šè¿‡å‘½ä»¤æŒ‡å®š cpu å†…å­˜æœ€å¤§æ•°é‡"></a><code>2.</code>åˆ›å»ºåé€šè¿‡å‘½ä»¤æŒ‡å®š cpu å†…å­˜æœ€å¤§æ•°é‡</h3><blockquote><p><strong>å‘½ä»¤åˆ›å»ºæ—¶æ²¡æœ‰æŒ‡å®šæœ€å¤§å†…å­˜ åˆ™éœ€è¦å…ˆè®¾ç½®ä¸€ä¸‹æœ€å¤§å†…å­˜ å¦åˆ™æ— æ³•æ·»åŠ </strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®æœ€å¤§å†…å­˜ï¼Œéœ€è¦å…³æœº</span></span><br><span class="line">virsh shutdown  web03</span><br><span class="line">virsh setmaxmem web03 6144M --config Â </span><br><span class="line">// é»˜è®¤æ— å›æ˜¾</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸´æ—¶æ·»åŠ å†…å­˜ï¼Œç¼©å‡å†…å­˜åŒæ ·ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ä¸è¦ç¼©å‡å†…å­˜ ä¼šå¯¼è‡´æœºå™¨å‡ºç°é—®é¢˜</span></span><br><span class="line">virsh setmem web03 4096M </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ°¸ä¹…æ·»åŠ å†…å­˜</span></span><br><span class="line">virsh setmem web03 4096M --config Â </span><br></pre></td></tr></table></figure><p><strong>éªŒè¯</strong>ï¼ˆæ·»åŠ æˆåŠŸï¼‰</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_e5eb9315664b827df6013961c3b6b4d2.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_e5eb9315664b827df6013961c3b6b4d2.png"></p><h2 id="åå…­-çƒ­æ·»åŠ cpu"><a href="#åå…­-çƒ­æ·»åŠ cpu" class="headerlink" title="åå…­. çƒ­æ·»åŠ cpu"></a>åå…­. çƒ­æ·»åŠ <code>cpu</code></h2><h3 id="1-åˆ›å»ºè™šæ‹Ÿæœºæ—¶æŒ‡å®š-CPU-æœ€å¤§æ•°æ—¶-çƒ­æ·»åŠ CPU"><a href="#1-åˆ›å»ºè™šæ‹Ÿæœºæ—¶æŒ‡å®š-CPU-æœ€å¤§æ•°æ—¶-çƒ­æ·»åŠ CPU" class="headerlink" title="1. åˆ›å»ºè™šæ‹Ÿæœºæ—¶æŒ‡å®š CPU æœ€å¤§æ•°æ—¶ çƒ­æ·»åŠ CPU"></a><code>1.</code> åˆ›å»ºè™šæ‹Ÿæœºæ—¶æŒ‡å®š <strong>CPU</strong> æœ€å¤§æ•°æ—¶ çƒ­æ·»åŠ <code>CPU</code></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸´æ—¶çƒ­æ·»åŠ cpuæ ¸æ•°</span></span><br><span class="line">virsh setvcpus web03 4 --live</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ°¸ä¹…æ·»åŠ cpuæ ¸æ•°</span></span><br><span class="line">virsh setvcpus web03 4 --config</span><br></pre></td></tr></table></figure><h3 id="2-åˆ›å»ºå®Œæˆåçƒ­æ·»åŠ è™šæ‹ŸæœºCPUï¼ˆéœ€è¦å…³æœº-ä¸”è®¾ç½®çš„-CPU-æœ€å¤§æ•°ä¸èƒ½è¶…è¿‡å®¿ä¸»æœº-CPU-æ•°ï¼‰"><a href="#2-åˆ›å»ºå®Œæˆåçƒ­æ·»åŠ è™šæ‹ŸæœºCPUï¼ˆéœ€è¦å…³æœº-ä¸”è®¾ç½®çš„-CPU-æœ€å¤§æ•°ä¸èƒ½è¶…è¿‡å®¿ä¸»æœº-CPU-æ•°ï¼‰" class="headerlink" title="2. åˆ›å»ºå®Œæˆåçƒ­æ·»åŠ è™šæ‹ŸæœºCPUï¼ˆéœ€è¦å…³æœº ä¸”è®¾ç½®çš„ CPU æœ€å¤§æ•°ä¸èƒ½è¶…è¿‡å®¿ä¸»æœº  CPU  æ•°ï¼‰"></a><code>2.</code> åˆ›å»ºå®Œæˆåçƒ­æ·»åŠ è™šæ‹ŸæœºCPUï¼ˆéœ€è¦å…³æœº ä¸”è®¾ç½®çš„ CPU æœ€å¤§æ•°ä¸èƒ½è¶…è¿‡å®¿ä¸»æœº CPU æ•°ï¼‰</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹è™šæ‹Ÿæœºå½“å‰æœ€å¤§æ”¯æŒçš„æ ¸å¿ƒæ•°</span></span><br><span class="line">virsh edit web03</span><br><span class="line">...</span><br><span class="line">//è¿”å›</span><br><span class="line">  &lt;memory unit=&#x27;KiB&#x27;&gt;2097152&lt;/memory&gt;</span><br><span class="line">  &lt;currentMemory unit=&#x27;KiB&#x27;&gt;2097152&lt;/currentMemory&gt;</span><br><span class="line">  &lt;vcpu placement=&#x27;static&#x27;&gt;1&lt;/vcpu&gt; Â  # 1cpu</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è°ƒæ•´è™šæ‹Ÿæœºæ”¯æŒCPUçš„æœ€å¤§å€¼</span></span><br><span class="line">virsh setvcpus web03 --maximum 6 --config </span><br><span class="line">...</span><br><span class="line">å¦åˆ™ä¼šæŠ¥é”™</span><br><span class="line">virsh setvcpus web03 Â 4 --config</span><br><span class="line">error: invalid argument: requested vcpus is greater than max allowable vcpus for the persistent domain: 4 &gt; 1</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ç”¨å‘½ä»¤è°ƒæ•´å æŸ¥çœ‹æ–‡ä»¶æ˜¯å¦æ”¹å˜ (æ–‡ä»¶æˆåŠŸæ”¹å˜)</span></span><br><span class="line">virsh edit web03</span><br><span class="line">...</span><br><span class="line">  &lt;currentMemory unit=&#x27;KiB&#x27;&gt;2097152&lt;/currentMemory&gt;</span><br><span class="line">  &lt;vcpu placement=&#x27;static&#x27; current=&#x27;1&#x27;&gt;6&lt;/vcpu&gt; Â # 6cpu</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨è™šæ‹ŸæœºæŸ¥çœ‹é…ç½®</span></span><br><span class="line">virsh start web03</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸´æ—¶çƒ­æ·»åŠ CPUæ ¸å¿ƒæ•°é‡</span></span><br><span class="line">virsh setvcpus web03 4</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ°¸ä¹…æ·»åŠ CPUæ ¸å¿ƒæ•°é‡</span></span><br><span class="line">virsh setvcpus web03 4 --config</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_229143f829ebe75863789362572c1acf.png" alt="https://github.com/zznn-cloud/zznn-cloud-blog-images/raw/main/Qexo/24/4/image_229143f829ebe75863789362572c1acf.png"></p><p><strong>æœ¬æ–‡çƒ­æ·»åŠ å†…å­˜åŠcpuéƒ¨åˆ†å‚è€ƒå¦‚ä¸‹é“¾æ¥</strong></p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yinzhengjie/p/18127842">https://www.cnblogs.com/yinzhengjie/p/18127842</a> <a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_46180357/article/details/108935979">https://blog.csdn.net/m0_46180357/article/details/108935979</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://zznn-cloud.github.io">éœœé›¨çš„å°ç«™ğŸˆ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://zznn-cloud.github.io/2024/04/20/kvm%E6%95%99%E7%A8%8B/">https://zznn-cloud.github.io/2024/04/20/kvmæ•™ç¨‹/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/kvm/">kvm</a></div><div class="post_share"><div class="social-share" data-image="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092041_a8fR5.gif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>Donate</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://gegewu-cloud.github.io/img/wechatpayqr.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gegewu-cloud.github.io/img/wechatpayqr.webp" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://gegewu-cloud.github.io/img/alipayqr.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gegewu-cloud.github.io/img/alipayqr.webp" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/04/21/%E5%BC%80%E6%BA%90%E6%A8%A1%E5%9E%8B%E6%8E%A5%E5%85%A5%E5%B9%B3%E5%8F%B0MaxKB%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%AF%B9%E6%8E%A5OneApi/" title="å¼€æºæ¨¡å‹æ¥å…¥å¹³å°MaxKBéƒ¨ç½²"><div class="cover" style="background:var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">å¼€æºæ¨¡å‹æ¥å…¥å¹³å°MaxKBéƒ¨ç½²</div></div></a></div><div class="next-post pull-right"><a href="/2024/04/20/windows11%E5%AE%89%E8%A3%85docker-desktop,docker-compose/" title="windows11å®‰è£…docker-desktop,docker-compose"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%B0%8F%E6%97%B6%E5%85%89/IMG_6309.jpeg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">windows11å®‰è£…docker-desktop,docker-compose</div></div></a></div></nav><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092041_a8fR5.gif" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">éœœé›¨çš„å°ç«™ğŸˆ</div><div class="author-info__description">..........</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">144</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">24</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zznn-cloud"><i class="fab fa-github"></i><span>ZzNnWn.</span><i class="faa-passing animated" style="padding-left:20px;display:inline-block;vertical-align:middle"><svg class="icon" style="height:28px;width:28px;fill:currentColor;position:relative;top:5px"><use xlink:href="#icon-xiaoqiche"></use></svg></i></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zznn-cloud" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:12345678@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">æ¬¢è¿æ¥åˆ°ZzNnWn.çš„åšå®¢</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#kvm%E6%95%99%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">kvmæ•™ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">1.0.1.</span> <span class="toc-text">è™šæ‹ŸåŒ–çš„å®šä¹‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84Hypervisor%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.0.2.</span> <span class="toc-text">å¸¸è§çš„Hypervisorç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.0.3.</span> <span class="toc-text">è™šæ‹ŸåŒ–çš„ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E5%88%86%E7%B1%BB"><span class="toc-number">1.0.4.</span> <span class="toc-text">è™šæ‹ŸåŒ–æŠ€æœ¯åˆ†ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KVM%E8%99%9A%E6%8B%9F%E5%8C%96%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.0.5.</span> <span class="toc-text">KVMè™šæ‹ŸåŒ–ä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">1.0.6.</span> <span class="toc-text">è™šæ‹Ÿæœºå¸¸ç”¨çš„ç®¡ç†å·¥å…·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD-%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%80%E5%BE%8B%E4%BD%BF%E7%94%A8%E6%AD%A4%E5%91%BD%E4%BB%A4%EF%BC%88%E4%B8%8B%E6%96%B9%E4%B8%A4%E5%8F%82%E6%95%B0%E6%A0%B9%E6%8D%AE%E5%AE%BF%E4%B8%BB%E6%9C%BAcpu-mem%E5%AE%9E%E9%99%85%E5%90%88%E7%90%86%E8%8C%83%E5%9B%B4%E6%9B%B4%E6%94%B9%EF%BC%89"><span class="toc-number">1.0.7.</span> <span class="toc-text">ç”Ÿäº§ç¯å¢ƒä¸­ åˆ›å»ºè™šæ‹Ÿæœºä¸€å¾‹ä½¿ç”¨æ­¤å‘½ä»¤ï¼ˆä¸‹æ–¹ä¸¤å‚æ•°æ ¹æ®å®¿ä¸»æœºcpu memå®é™…åˆç†èŒƒå›´æ›´æ”¹ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">1.0.8.</span> <span class="toc-text">ç®¡ç†è™šæ‹Ÿæœº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E5%AE%89%E8%A3%85kvm%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%EF%BC%88%E6%9C%AC%E6%95%99%E7%A8%8B%E7%8E%AF%E5%A2%83workstdtion%EF%BC%89"><span class="toc-number">1.1.</span> <span class="toc-text">äºŒ. å®‰è£…kvmè™šæ‹ŸåŒ–ç®¡ç†å·¥å…·ï¼ˆæœ¬æ•™ç¨‹ç¯å¢ƒworkstdtionï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BACPU%E5%BC%80%E5%90%AF%E8%99%9A%E6%8B%9F%E5%8C%96%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.1.</span> <span class="toc-text">è™šæ‹ŸæœºCPUå¼€å¯è™šæ‹ŸåŒ–åŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85KVM%E7%9B%B8%E5%85%B3%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">1.1.2.</span> <span class="toc-text">å®‰è£…KVMç›¸å…³è½¯ä»¶åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAKVM%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%88%E9%80%89%E6%8B%A9%E8%BD%BB%E9%87%8F%E9%95%9C%E5%83%8F%E6%96%B9%E4%BE%BF%E5%AE%9E%E9%AA%8C%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%EF%BC%89"><span class="toc-number">1.1.3.</span> <span class="toc-text">åˆ›å»ºKVMè™šæ‹Ÿæœºï¼ˆé€‰æ‹©è½»é‡é•œåƒæ–¹ä¾¿å®éªŒä¸Šä¼ ä¸‹è½½ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-kvm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text">ä¸‰. kvmå¸¸ç”¨å‘½ä»¤ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-virsh%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%A6%82%E8%A7%88"><span class="toc-number">1.2.1.</span> <span class="toc-text">ä¸€. virshå¸¸ç”¨å‘½ä»¤æ¦‚è§ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">1.2.2.</span> <span class="toc-text">äºŒ. å¤‡ä»½æ¢å¤è™šæ‹Ÿæœº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%E8%BF%81%E7%A7%BB"><span class="toc-number">1.2.3.</span> <span class="toc-text">ä¸‰. è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶è¿ç§»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%87%8D%E5%91%BD%E5%90%8D%EF%BC%88%E5%8F%AA%E8%83%BD%E5%9C%A8%E5%85%B3%E6%9C%BA%E7%8A%B6%E6%80%81%E6%94%B9%E5%90%8D%EF%BC%89"><span class="toc-number">1.2.4.</span> <span class="toc-text">å››. è™šæ‹Ÿæœºé‡å‘½åï¼ˆåªèƒ½åœ¨å…³æœºçŠ¶æ€æ”¹åï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-%E6%9F%A5%E7%9C%8B%E8%99%9A%E6%8B%9F%E6%9C%BA-vnc-%E7%AB%AF%E5%8F%A3%EF%BC%88%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A4%AA%E5%A4%9A%E4%B9%8B%E5%90%8E-VNC-%E7%AB%AF%E5%8F%A3%E5%B0%B1%E4%BC%9A%E4%B8%8D%E4%B8%80%E6%A0%B7%EF%BC%89%E5%8F%AA%E6%9C%89%E5%90%AF%E5%8A%A8%E7%8A%B6%E6%80%81%E6%89%8D%E4%BC%9A%E6%9C%89-VNC-%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.2.5.</span> <span class="toc-text">äº”. æŸ¥çœ‹è™šæ‹Ÿæœº vnc ç«¯å£ï¼ˆè™šæ‹Ÿæœºå¤ªå¤šä¹‹å VNC ç«¯å£å°±ä¼šä¸ä¸€æ ·ï¼‰åªæœ‰å¯åŠ¨çŠ¶æ€æ‰ä¼šæœ‰ VNC ç«¯å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD-%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%9A%8F%E6%9C%BA%E8%87%AA%E5%90%AF%EF%BC%88-%E4%B8%BA%E4%BA%86%E5%AE%BF%E4%B8%BB%E6%9C%BA%E9%87%8D%E5%90%AF%E5%90%8E%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B9%9F%E4%BC%9A%E9%87%8D%E5%90%AF-%EF%BC%89%E5%90%A6%E5%88%99%E5%AE%BF%E4%B8%BB%E6%9C%BA%E9%87%8D%E5%90%AF-%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8D%E4%BC%9A%E8%87%AA%E5%90%AF%E5%8A%A8"><span class="toc-number">1.2.6.</span> <span class="toc-text">å…­. è™šæ‹Ÿæœºéšæœºè‡ªå¯ï¼ˆ ä¸ºäº†å®¿ä¸»æœºé‡å¯åè™šæ‹Ÿæœºä¹Ÿä¼šé‡å¯ ï¼‰å¦åˆ™å®¿ä¸»æœºé‡å¯ è™šæ‹Ÿæœºä¸ä¼šè‡ªå¯åŠ¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83-%E9%80%9A%E8%BF%87console%E7%99%BB%E5%BD%95kvm"><span class="toc-number">1.2.7.</span> <span class="toc-text">ä¸ƒ. é€šè¿‡consoleç™»å½•kvm</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-KVM%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="toc-number">1.3.</span> <span class="toc-text">å››. KVMç£ç›˜ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA-qcow2-%E6%A0%BC%E5%BC%8F%E7%A3%81%E7%9B%98%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. åˆ›å»º qcow2 æ ¼å¼ç£ç›˜çš„è™šæ‹Ÿæœº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-qcow2%E6%A0%BC%E5%BC%8F%E7%A3%81%E7%9B%98%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. qcow2æ ¼å¼ç£ç›˜è™šæ‹Ÿæœºä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-kvm%E7%A3%81%E7%9B%98%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%BF%AB%E7%85%A7%E7%AE%A1%E7%90%86"><span class="toc-number">1.4.</span> <span class="toc-text">äº”. kvmç£ç›˜è™šæ‹Ÿæœºå¿«ç…§ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E5%BF%AB%E7%85%A7"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.åˆ›å»ºå¿«ç…§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%BF%98%E5%8E%9F%E5%BF%AB%E7%85%A7"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. è¿˜åŸå¿«ç…§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E5%BF%AB%E7%85%A7"><span class="toc-number">1.4.3.</span> <span class="toc-text">3. åˆ é™¤å¿«ç…§</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-kvm%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%85%8B%E9%9A%86"><span class="toc-number">1.5.</span> <span class="toc-text">å…­. kvmè™šæ‹Ÿæœºå…‹éš†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-KVM%E5%AE%8C%E6%95%B4%E5%85%8B%E9%9A%86%EF%BC%88%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%BF%85%E9%A1%BB%E4%B8%BA%E5%85%B3%E9%97%AD%E7%8A%B6%E6%80%81%EF%BC%89"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. KVMå®Œæ•´å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-KVM%E9%93%BE%E6%8E%A5%E5%85%8B%E9%9A%86%EF%BC%88%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%BF%85%E9%A1%BB%E4%B8%BA%E5%85%B3%E9%97%AD%E7%8A%B6%E6%80%81%EF%BC%89"><span class="toc-number">1.5.2.</span> <span class="toc-text">1. KVMé“¾æ¥å…‹éš†ï¼ˆè™šæ‹Ÿæœºå¿…é¡»ä¸ºå…³é—­çŠ¶æ€ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-KVM%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.6.</span> <span class="toc-text">ä¸ƒ. KVMè™šæ‹Ÿæœºç½‘ç»œé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-kvm%E8%99%9A%E6%8B%9F%E6%9C%BAnat%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.6.1.</span> <span class="toc-text">1.kvmè™šæ‹Ÿæœºnatç½‘ç»œé…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-kvm-%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%9B%BA%E5%AE%9A-IP"><span class="toc-number">1.6.2.</span> <span class="toc-text">2.kvm è™šæ‹Ÿæœºé…ç½®å›ºå®š IP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D-kvm-%E5%88%9B%E5%BB%BA%E6%A1%A5%E6%8E%A5%E7%BD%91%E7%BB%9C"><span class="toc-number">1.7.</span> <span class="toc-text">ä¹. kvm åˆ›å»ºæ¡¥æ¥ç½‘ç»œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%A1%A5%E6%8E%A5%E7%BD%91%E5%8D%A1"><span class="toc-number">1.7.1.</span> <span class="toc-text">1.åˆ›å»ºæ¡¥æ¥ç½‘å¡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81-%E5%88%9B%E5%BB%BA-kvm-%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E6%A1%A5%E6%8E%A5%E7%BD%91%E7%BB%9C"><span class="toc-number">1.8.</span> <span class="toc-text">å. åˆ›å»º kvm è™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥ç½‘ç»œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-%E4%BF%AE%E6%94%B9kvm%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.9.</span> <span class="toc-text">åä¸€. ä¿®æ”¹kvmè™šæ‹Ÿæœºä½¿ç”¨æ¡¥æ¥æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C-kvm%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.10.</span> <span class="toc-text">åäºŒ. kvmç½‘ç»œåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F%E6%8B%96%E5%B8%83%E5%9B%BE"><span class="toc-number">1.10.1.</span> <span class="toc-text">0.ç½‘ç»œæ¨¡å¼æ‹–å¸ƒå›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%BF%E4%B8%BB%E6%9C%BA%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE"><span class="toc-number">1.10.2.</span> <span class="toc-text">1.å®¿ä¸»æœºç½‘å¡é…ç½®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%89-kvm%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%A1%AC%E4%BB%B6%E7%83%AD%E6%B7%BB%E5%8A%A0%E6%8A%80%E6%9C%AF"><span class="toc-number">1.11.</span> <span class="toc-text">åä¸‰. kvmè™šæ‹Ÿæœºç¡¬ä»¶çƒ­æ·»åŠ æŠ€æœ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%83%AD%E6%B7%BB%E5%8A%A0%E7%A3%81%E7%9B%98"><span class="toc-number">1.11.1.</span> <span class="toc-text">1.çƒ­æ·»åŠ ç£ç›˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AF%B9%E5%88%9A%E6%89%8D%E5%89%A5%E7%A6%BB%E7%9A%84qcow2%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%89%A9%E5%AE%B9-%E6%97%A0%E6%B3%95%E5%9C%A8%E7%BA%BF%E6%89%A9%E5%AE%B9%EF%BC%8C%E5%BF%85%E9%A1%BB%E5%85%88%E5%89%A5%E7%A6%BB"><span class="toc-number">1.11.2.</span> <span class="toc-text">2. å¯¹åˆšæ‰å‰¥ç¦»çš„qcow2ç£ç›˜ç©ºé—´æ‰©å®¹ (æ— æ³•åœ¨çº¿æ‰©å®¹ï¼Œå¿…é¡»å…ˆå‰¥ç¦»)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B-%E7%83%AD%E6%B7%BB%E5%8A%A0%E7%BD%91%E5%8D%A1"><span class="toc-number">1.12.</span> <span class="toc-text">åå››. çƒ­æ·»åŠ ç½‘å¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%83%AD%E6%B7%BB%E5%8A%A0%E7%BD%91%E5%8D%A1"><span class="toc-number">1.12.1.</span> <span class="toc-text">1.çƒ­æ·»åŠ ç½‘å¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%83%AD%E5%88%A0%E9%99%A4%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E5%8D%A1%EF%BC%88%E5%AE%BF%E4%B8%BB%E6%9C%BA%E6%89%A7%E8%A1%8C%EF%BC%89"><span class="toc-number">1.12.2.</span> <span class="toc-text">2.çƒ­åˆ é™¤è™šæ‹Ÿæœºç½‘å¡ï¼ˆå®¿ä¸»æœºæ‰§è¡Œï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%BA%94-%E7%83%AD%E6%B7%BB%E5%8A%A0%E5%86%85%E5%AD%98"><span class="toc-number">1.12.3.</span> <span class="toc-text">åäº”. çƒ­æ·»åŠ å†…å­˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%97%B6%E6%8C%87%E5%AE%9Acpu-%E5%86%85%E5%AD%98%E6%9C%80%E5%A4%A7%E6%95%B0%E9%87%8F"><span class="toc-number">1.12.4.</span> <span class="toc-text">1.åˆ›å»ºæ—¶æŒ‡å®šcpu å†…å­˜æœ€å¤§æ•°é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E5%90%8E%E9%80%9A%E8%BF%87%E5%91%BD%E4%BB%A4%E6%8C%87%E5%AE%9A-cpu-%E5%86%85%E5%AD%98%E6%9C%80%E5%A4%A7%E6%95%B0%E9%87%8F"><span class="toc-number">1.12.5.</span> <span class="toc-text">2.åˆ›å»ºåé€šè¿‡å‘½ä»¤æŒ‡å®š cpu å†…å­˜æœ€å¤§æ•°é‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E5%85%AD-%E7%83%AD%E6%B7%BB%E5%8A%A0cpu"><span class="toc-number">1.13.</span> <span class="toc-text">åå…­. çƒ­æ·»åŠ cpu</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%97%B6%E6%8C%87%E5%AE%9A-CPU-%E6%9C%80%E5%A4%A7%E6%95%B0%E6%97%B6-%E7%83%AD%E6%B7%BB%E5%8A%A0CPU"><span class="toc-number">1.13.1.</span> <span class="toc-text">1. åˆ›å»ºè™šæ‹Ÿæœºæ—¶æŒ‡å®š CPU æœ€å¤§æ•°æ—¶ çƒ­æ·»åŠ CPU</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E5%AE%8C%E6%88%90%E5%90%8E%E7%83%AD%E6%B7%BB%E5%8A%A0%E8%99%9A%E6%8B%9F%E6%9C%BACPU%EF%BC%88%E9%9C%80%E8%A6%81%E5%85%B3%E6%9C%BA-%E4%B8%94%E8%AE%BE%E7%BD%AE%E7%9A%84-CPU-%E6%9C%80%E5%A4%A7%E6%95%B0%E4%B8%8D%E8%83%BD%E8%B6%85%E8%BF%87%E5%AE%BF%E4%B8%BB%E6%9C%BA-CPU-%E6%95%B0%EF%BC%89"><span class="toc-number">1.13.2.</span> <span class="toc-text">2. åˆ›å»ºå®Œæˆåçƒ­æ·»åŠ è™šæ‹ŸæœºCPUï¼ˆéœ€è¦å…³æœº ä¸”è®¾ç½®çš„ CPU æœ€å¤§æ•°ä¸èƒ½è¶…è¿‡å®¿ä¸»æœº CPU æ•°ï¼‰</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/05/18/ssh%E8%B7%B3%E8%BF%87%E4%B8%80%E4%BA%9B%20PAM%E9%89%B4%E6%9D%83/" title="sshè·³è¿‡ä¸€äº› PAMé‰´æƒ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="sshè·³è¿‡ä¸€äº› PAMé‰´æƒ"></a><div class="content"><a class="title" href="/2025/05/18/ssh%E8%B7%B3%E8%BF%87%E4%B8%80%E4%BA%9B%20PAM%E9%89%B4%E6%9D%83/" title="sshè·³è¿‡ä¸€äº› PAMé‰´æƒ">sshè·³è¿‡ä¸€äº› PAMé‰´æƒ</a><time datetime="2025-05-18T18:15:30.563Z" title="Created 2025-05-19 02:15:30">2025-05-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/12/ssh%E5%85%8D%E5%AF%86%E6%89%A9%E5%B1%95/" title="sshå…å¯†æ‰©å±•"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="sshå…å¯†æ‰©å±•"></a><div class="content"><a class="title" href="/2025/05/12/ssh%E5%85%8D%E5%AF%86%E6%89%A9%E5%B1%95/" title="sshå…å¯†æ‰©å±•">sshå…å¯†æ‰©å±•</a><time datetime="2025-05-12T23:54:42.573Z" title="Created 2025-05-13 07:54:42">2025-05-13</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/16.jpg)"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">è¯´ç‚¹ä»€ä¹ˆ</p><div class="bg-ad"><div>é™æ°´æµæ·±!</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://gegewu-cloud.github.io">æ™’åœ¨æ·±æµ·é‡Œ.</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">ä¿®ä»™å¯¼èˆª</p><ul class="ft-links"><li><a target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/2023/08/12/hexo%E4%B8%8Egithub%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">å»ºç«™æŒ‡å—</a><a href="http://zznn-cloud.github.io/link/">ç½‘å€å¯¼èˆª</a></li><li><a href="http://zznn-cloud.github.io/2024/02/01/%E8%B5%9E%E5%8A%A9%E5%A2%99/">æ¥æ¯å’–å•¡</a><a target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/2023/05/23/%E7%95%99%E8%A8%80%E6%9D%BF/">ç•™ç‚¹ä»€ä¹ˆ</a></li><li><a href="https://zznn-cloud.github.io/2024/02/01/ç®€å†/">ç®€å†</a><a target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/2023/05/22/%E5%85%B3%E4%BA%8E/">å…³äºåšä¸»</a></li><li><a href="http://zznn-cloud.github.io/categories/">æ–‡ç« åˆ†ç±»</a><a href="http://zznn-cloud.github.io/tags/">æ–‡ç« æ ‡ç­¾</a></li><li><a href="http://zznn-cloud.github.io/archives/">æ–‡ç« å½’æ¡£</a><a target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/2023/10/04/%E5%9B%BE%E5%BA%93/">æˆ‘çš„ç›¸å†Œ</a></li><li><a target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/onedrive/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8/%E5%8A%A8%E6%BC%AB/">ä¸€äº›å£çº¸</a></li></ul></div><div class="t-t-r"><p class="ft-t t-l-t">ç™¾å®ç®±</p><ul class="ft-links"><li><a target="_blank" rel="noopener" href="https://Qexo.zznnwn.cloudns.biz/">Qexo</a><a target="_blank" rel="noopener" href="https://zgpt.zznnwn.cloudns.biz/">ZPT.</a><a target="_blank" rel="noopener" href="https://appicon.zznnwn.cloudns.biz/">icon</a><a target="_blank" rel="noopener" href="https://lchat.zznnwn.cloudns.biz">LChat.</a><a target="_blank" rel="noopener" href="https://mini-cover.zznnwn.cloudns.biz/">mini-c</a><a target="_blank" rel="noopener" href="https://images.zznnwn.cloudns.biz/">B2</a><a target="_blank" rel="noopener" href="https://drive.zznnwn.cloudns.biz/">CDreve</a><a target="_blank" rel="noopener" href="https://onenote.zznnwn.cloudns.biz/">Odrive</a><a target="_blank" rel="noopener" href="https://gegewu-proxy.zznnwn.cloudns.biz/">gproxy</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">æ¨èå‹é“¾</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://vercel.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gegewu-cloud.github.io/img/vercel.png" alt=""></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.yyds.space/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.yyds.space/assets/r1.jpg" alt=""></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://fe32.top/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://bu.dusays.com/2022/05/02/626f92e193879.jpg" alt=""></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://github.com/gegewu-cloud"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gegewu-cloud.github.io/img/C.png" alt=""></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.fomal.cc/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.bitiful.net/img/avatar.webp" alt=""></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://qexo.zznnwn.cloudns.biz/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://unpkg.com/qexo-static@2.2.3/qexo/images/icon.png" alt=""></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://chatgpt.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wn.zznnwn.cloudns.biz/img/chatgpt.jpg" alt=""></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://gegewu-cloud.github.io/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gegewu-cloud.github.io/img/zznnlogo.webp" alt=""></a></div></div></div><div class="ft-item-3"><p class="ft-t">æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ğŸ¡</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://f005.backblazeb2.com/file/ZzNnWn-Images/ZzNnWn-Images/32669c3a-70bf-4466-87c4-b677eab7cc82.png" alt=""></a></div></div></div></div><div class="copyright">&copy;2023 - 2025 <i id="heartbeat" class="fa fas fa-heartbeat"></i> éœœé›¨çš„å°ç«™ğŸˆ</div><div class="footer_custom_text"><a href="https://icp.gov.moe/?keyword=20240203" target="_blank">èŒICPå¤‡20240203å·</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">ç¹</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0!==e.length){const n=()=>{window.loadMermaid=!0;const r="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(e).forEach((e,t)=>{const n=e.firstElementChild;e="%%{init:{ 'theme':'"+r+"'}}%%\n"+n.textContent;const d=mermaid.render("mermaid-"+t,e);"string"==typeof d?(t=d,n.insertAdjacentHTML("afterend",t)):d.then(({svg:e})=>{n.insertAdjacentHTML("afterend",e)})})};var t=()=>{window.loadMermaid?n():getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(n)};btf.addModeChange("mermaid",n),window.pjax?t():document.addEventListener("DOMContentLoaded",t)}})()</script><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.zznnwn.cloudns.biz/",region:"ap-shanghai",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},o=()=>{const o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://twikoo.zznnwn.cloudns.biz/",region:"ap-shanghai",urls:[window.location.pathname],includeReply:!1}).then(function(t){o.textContent=t[0].count}).catch(function(t){console.error(t)})},n=()=>{t(),GLOBAL_CONFIG_SITE.isPost&&o()},e=()=>{"object"==typeof twikoo?setTimeout(n,0):getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(n)};btf.loadComment(document.getElementById("twikoo-wrap"),e)})()</script></div><script>window.addEventListener("load",()=>{const t=e=>e=""!==e&&150<(e=(e=(e=(e=e.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[image]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[link]")).replace(/<pre><code>.*?<\/pre>/gi,"[code]")).replace(/<[^>]+>/g,"")).length?e.substring(0,150)+"...":e,a=t=>{let a="";if(t.length)for(let e=0;e<t.length;e++)a=(a=(a+="<div class='aside-list-item'>")+`<a href='${t[e].url}' class='thumbnail'><img data-lazy-src='${t[e].avatar}' alt='${t[e].nick}'></a>`)+`<div class='content'>
        <a class='comment' href='${t[e].url}' title='${t[e].content}'>${t[e].content}</a>
        <div class='name'><span>${t[e].nick} / </span><time datetime="${t[e].date}">${btf.diffDate(t[e].date,!0)}</time></div>
        </div></div>`;else a+="No Comment";var e=document.querySelector("#card-newest-comments .aside-list");e.innerHTML=a,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(e)};var e=()=>{var e;document.querySelector("#card-newest-comments .aside-list")&&((e=saveToLocal.get("twikoo-newest-comments"))?a(JSON.parse(e)):(e=()=>{twikoo.getRecentComments({envId:"https://twikoo.zznnwn.cloudns.biz/",region:"ap-shanghai",pageSize:2,includeReply:!0}).then(function(e){e=e.map(e=>({content:t(e.comment),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()}));saveToLocal.set("twikoo-newest-comments",JSON.stringify(e),10/1440),a(e)}).catch(function(e){document.querySelector("#card-newest-comments .aside-list").textContent="Unable to get the data, please make sure the settings are correct."})},"object"==typeof twikoo?e():getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(e)))};e(),document.addEventListener("pjax:complete",e)})</script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><div class="aplayer no-destroy" data-id="8456378003" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true" data-lrctype="-1" data-order="random"></div><script async data-pjax src="/js/randombg.js"></script><script async src="/js/diytitle.js"></script><script src="https://cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><script defer src="/live2d-widget-master/autoload.js"></script><script async src="//at.alicdn.com/t/c/font_4426032_wnvg24di0w.css"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="ä¸œé£å¤œæ”¾èŠ±åƒæ ‘ï¼Œæ›´å¹è½ï¼Œæ˜Ÿå¦‚é›¨ã€‚,å®é©¬é›•è½¦é¦™æ»¡è·¯ã€‚,å‡¤ç®«å£°åŠ¨ï¼Œç‰å£¶å…‰è½¬ï¼Œä¸€å¤œé±¼é¾™èˆã€‚,è›¾å„¿é›ªæŸ³é»„é‡‘ç¼•ï¼Œç¬‘è¯­ç›ˆç›ˆæš—é¦™å»ã€‚,ä¼—é‡Œå¯»ä»–åƒç™¾åº¦ï¼Œè“¦ç„¶å›é¦–ï¼Œé‚£äººå´åœ¨ï¼Œç¯ç«é˜‘çŠå¤„ã€‚" data-fontsize="15px" data-random="false" async></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();var e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()}),document.addEventListener("pjax:complete",function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script");var o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script data-pjax>function butterfly_swiper_injector_config(){var i=document.getElementById("recent-posts");console.log("å·²æŒ‚è½½butterfly_swiper"),i.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/01/23/æ–°å¹´å¿«ä¹ï¼/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://f005.backblazeb2.com/file/ZzNnWn-Images/ZzNnWn-Images/8ef4486c-c914-4932-ab06-5c073a639b79.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-01-23</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/01/23/æ–°å¹´å¿«ä¹ï¼/&quot;);" href="javascript:void(0);" alt="">æ–°å¹´å¿«ä¹ï¼</a><div class="blog-slider__text">ç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/01/23/æ–°å¹´å¿«ä¹ï¼/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/02/01/èµåŠ©å¢™/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://f005.backblazeb2.com/file/ZzNnWn-Images/ZzNnWn/3b1fec33-696f-4692-af37-0e0234699917.jpeg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-02-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/02/01/èµåŠ©å¢™/&quot;);" href="javascript:void(0);" alt="">èµåŠ©å¢™</a><div class="blog-slider__text">èµåŠ©ä¸€ä¸‹å§ğŸŒ¹</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/02/01/èµåŠ©å¢™/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/02/sshæ…¢æŠ¥é”™org.freedesktop.login1timed Outé—®é¢˜/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/02/sshæ…¢æŠ¥é”™org.freedesktop.login1timed Outé—®é¢˜/&quot;);" href="javascript:void(0);" alt="">sshæ…¢æŠ¥é”™org.freedesktop.login1timed Outé—®é¢˜</a><div class="blog-slider__text">sshæ…¢æŠ¥é”™org.freedesktop.login1timedÂ Outé—®é¢˜</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/02/sshæ…¢æŠ¥é”™org.freedesktop.login1timed Outé—®é¢˜/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/05/12/sshå…å¯†æ‰©å±•/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-05-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/05/12/sshå…å¯†æ‰©å±•/&quot;);" href="javascript:void(0);" alt="">sshå…å¯†æ‰©å±•</a><div class="blog-slider__text">æµ‹è¯•</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/05/12/sshå…å¯†æ‰©å±•/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/05/18/sshè·³è¿‡ä¸€äº› PAMé‰´æƒ/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-05-18</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/05/18/sshè·³è¿‡ä¸€äº› PAMé‰´æƒ/&quot;);" href="javascript:void(0);" alt="">sshè·³è¿‡ä¸€äº› PAMé‰´æƒ</a><div class="blog-slider__text">sshè·³è¿‡ä¸€äº›Â PAMé‰´æƒ</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/05/18/sshè·³è¿‡ä¸€äº› PAMé‰´æƒ/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/01/23/é­”æ”¹ç¬”è®°å…­ï¼šåšå®¢åŠ é€Ÿ/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-01-23</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/01/23/é­”æ”¹ç¬”è®°å…­ï¼šåšå®¢åŠ é€Ÿ/&quot;);" href="javascript:void(0);" alt="">é­”æ”¹ç¬”è®°å…­ï¼šåšå®¢åŠ é€Ÿ</a><div class="blog-slider__text">é­”æ”¹ç¬”è®°å››ï¼šåšå®¢åŠ é€Ÿ</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/01/23/é­”æ”¹ç¬”è®°å…­ï¼šåšå®¢åŠ é€Ÿ/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/01/22/é­”æ”¹ç¬”è®°äºŒï¼šå­—ä½“æ›´æ”¹/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-01-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/01/22/é­”æ”¹ç¬”è®°äºŒï¼šå­—ä½“æ›´æ”¹/&quot;);" href="javascript:void(0);" alt="">é­”æ”¹ç¬”è®°äºŒï¼šå­—ä½“æ›´æ”¹</a><div class="blog-slider__text">é­”æ”¹ç¬”è®°äºŒï¼šå­—ä½“æ›´æ”¹</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/01/22/é­”æ”¹ç¬”è®°äºŒï¼šå­—ä½“æ›´æ”¹/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/01/22/é­”æ”¹ç¬”è®°ä¸‰ï¼šæ–‡ç« ä¸‰æ ï¼ˆåº—é•¿+å¾®è°ƒï¼‰/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092037_SjrLe.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-01-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/01/22/é­”æ”¹ç¬”è®°ä¸‰ï¼šæ–‡ç« ä¸‰æ ï¼ˆåº—é•¿+å¾®è°ƒï¼‰/&quot;);" href="javascript:void(0);" alt="">é­”æ”¹ç¬”è®°ä¸‰ï¼šæ–‡ç« ä¸‰æ ï¼ˆåº—é•¿+å¾®è°ƒï¼‰</a><div class="blog-slider__text">é­”æ”¹ç¬”è®°ä¸‰ï¼šæ–‡ç« ä¸‰æ ï¼ˆåº—é•¿+å¾®è°ƒï¼‰</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/01/22/é­”æ”¹ç¬”è®°ä¸‰ï¼šæ–‡ç« ä¸‰æ ï¼ˆåº—é•¿+å¾®è°ƒï¼‰/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/01/17/æœ¬ç«™è¯´æ˜/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/%E5%B0%8F%E6%B8%85%E6%96%B0/wallhaven-1pzdg1.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-01-17</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/01/17/æœ¬ç«™è¯´æ˜/&quot;);" href="javascript:void(0);" alt="">å°ç«™ç®€ä»‹</a><div class="blog-slider__text">å°ç«™ç®€ä»‹</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/01/17/æœ¬ç«™è¯´æ˜/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/20/æœåŠ¡å™¨æŠ¥é”™nf_conntrack: table full, dropping packetå¤„ç†/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-20</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/20/æœåŠ¡å™¨æŠ¥é”™nf_conntrack: table full, dropping packetå¤„ç†/&quot;);" href="javascript:void(0);" alt="">æœåŠ¡å™¨æŠ¥é”™nf_conntrack: table full, dropping packetè§£å†³</a><div class="blog-slider__text">æœåŠ¡å™¨æŠ¥é”™nf_conntrack:Â tableÂ full,Â droppingÂ packetè§£å†³</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/20/æœåŠ¡å™¨æŠ¥é”™nf_conntrack: table full, dropping packetå¤„ç†/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/12/å®¹å™¨åŒ–éƒ¨ç½²ollamaç¯å¢ƒå˜é‡é—®é¢˜/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/12/å®¹å™¨åŒ–éƒ¨ç½²ollamaç¯å¢ƒå˜é‡é—®é¢˜/&quot;);" href="javascript:void(0);" alt="">å®¹å™¨åŒ–éƒ¨ç½²ollamaç¯å¢ƒå˜é‡é—®é¢˜</a><div class="blog-slider__text">å®¹å™¨åŒ–éƒ¨ç½²ollamaç¯å¢ƒå˜é‡é—®é¢˜</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/12/å®¹å™¨åŒ–éƒ¨ç½²ollamaç¯å¢ƒå˜é‡é—®é¢˜/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/10/å¤©ç¿¼äº‘è£¸é‡‘å±å®‰å…¨ç»„æ”¾é€šç«¯å£å dockerç«¯å£ä»ç„¶æ— æ³•è®¿é—®é—®é¢˜/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/10/å¤©ç¿¼äº‘è£¸é‡‘å±å®‰å…¨ç»„æ”¾é€šç«¯å£å dockerç«¯å£ä»ç„¶æ— æ³•è®¿é—®é—®é¢˜/&quot;);" href="javascript:void(0);" alt="">å¤©ç¿¼äº‘è£¸é‡‘å±å®‰å…¨ç»„æ”¾é€šç«¯å£å dockerç«¯å£ä»ç„¶æ— æ³•è®¿é—®é—®é¢˜</a><div class="blog-slider__text">å¤©ç¿¼äº‘è£¸é‡‘å±å®‰å…¨ç»„æ”¾é€šç«¯å£åÂ dockerç«¯å£ä»ç„¶æ— æ³•è®¿é—®é—®é¢˜</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/10/å¤©ç¿¼äº‘è£¸é‡‘å±å®‰å…¨ç»„æ”¾é€šç«¯å£å dockerç«¯å£ä»ç„¶æ— æ³•è®¿é—®é—®é¢˜/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/02/10/windows11ä½¿ç”¨wslå®‰è£…ubuntu20.04å¹¶å®‰è£…1050tié©±åŠ¨/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-02-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/02/10/windows11ä½¿ç”¨wslå®‰è£…ubuntu20.04å¹¶å®‰è£…1050tié©±åŠ¨/&quot;);" href="javascript:void(0);" alt="">windows11ä½¿ç”¨wslå®‰è£…ubuntu20.04å¹¶å®‰è£…1050tié©±åŠ¨</a><div class="blog-slider__text">windows11ä½¿ç”¨wslå®‰è£…ubuntu20.04å¹¶å®‰è£…1050tié©±åŠ¨</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/02/10/windows11ä½¿ç”¨wslå®‰è£…ubuntu20.04å¹¶å®‰è£…1050tié©±åŠ¨/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/04/07/gpué©±åŠ¨æŒä¹…åŒ–åŠnvlinkæ£€æŸ¥/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/04/07/gpué©±åŠ¨æŒä¹…åŒ–åŠnvlinkæ£€æŸ¥/&quot;);" href="javascript:void(0);" alt="">gpué©±åŠ¨æŒä¹…åŒ–åŠnvlinkæ£€æŸ¥</a><div class="blog-slider__text">gpué©±åŠ¨æŒä¹…åŒ–åŠnvlinkæ£€æŸ¥</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/04/07/gpué©±åŠ¨æŒä¹…åŒ–åŠnvlinkæ£€æŸ¥/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/05/08/centosæ§åˆ¶å°ç™»å½•æŠ¥é”™Permission-denied/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-05-08</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/05/08/centosæ§åˆ¶å°ç™»å½•æŠ¥é”™Permission-denied/&quot;);" href="javascript:void(0);" alt="">centosæ§åˆ¶å°ç™»å½•æŠ¥é”™Permission-denied</a><div class="blog-slider__text">centosæ§åˆ¶å°ç™»å½•æŠ¥é”™Permission-denied</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/05/08/centosæ§åˆ¶å°ç™»å½•æŠ¥é”™Permission-denied/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/02/10/Wslå®‰è£…çš„ubuntu20.04å­ç³»ç»ŸäºŒè¿›åˆ¶éƒ¨ç½²ollamaå®ç°ç›´é€šåº•å±‚1050tiåŠopen-webuiç¯å¢ƒå˜é‡é—®é¢˜/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-02-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/02/10/Wslå®‰è£…çš„ubuntu20.04å­ç³»ç»ŸäºŒè¿›åˆ¶éƒ¨ç½²ollamaå®ç°ç›´é€šåº•å±‚1050tiåŠopen-webuiç¯å¢ƒå˜é‡é—®é¢˜/&quot;);" href="javascript:void(0);" alt="">Wslå®‰è£…çš„ubuntu20.04å­ç³»ç»ŸäºŒè¿›åˆ¶éƒ¨ç½²ollamaå®ç°ç›´é€šåº•å±‚1050tiåŠopen-webuiç¯å¢ƒå˜é‡é—®é¢˜</a><div class="blog-slider__text">Wslå®‰è£…çš„ubuntu20.04å­ç³»ç»ŸäºŒè¿›åˆ¶éƒ¨ç½²ollamaå®ç°ç›´é€šåº•å±‚1050ti</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/02/10/Wslå®‰è£…çš„ubuntu20.04å­ç³»ç»ŸäºŒè¿›åˆ¶éƒ¨ç½²ollamaå®ç°ç›´é€šåº•å±‚1050tiåŠopen-webuiç¯å¢ƒå˜é‡é—®é¢˜/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/25/Ubuntuç³»ç»Ÿä¸­é…ç½®br0ç½‘ç»œæ¥å£/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-25</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/25/Ubuntuç³»ç»Ÿä¸­é…ç½®br0ç½‘ç»œæ¥å£/&quot;);" href="javascript:void(0);" alt="">æ­ç§˜Ubuntuç³»ç»Ÿä¸­çš„br0ç½‘ç»œæ¥å£ï¼šæ­ç§˜ç½‘ç»œé…ç½®èƒŒåçš„ç§˜å¯†</a><div class="blog-slider__text">æ­ç§˜Ubuntuç³»ç»Ÿä¸­çš„br0ç½‘ç»œæ¥å£ï¼šæ­ç§˜ç½‘ç»œé…ç½®èƒŒåçš„ç§˜å¯†</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/25/Ubuntuç³»ç»Ÿä¸­é…ç½®br0ç½‘ç»œæ¥å£/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/03/10/TCPé˜Ÿåˆ—æ»¡äº†å¯¼è‡´webæ— æ³•è®¿é—®/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/03/10/TCPé˜Ÿåˆ—æ»¡äº†å¯¼è‡´webæ— æ³•è®¿é—®/&quot;);" href="javascript:void(0);" alt="">TCPé˜Ÿåˆ—æ»¡äº†å¯¼è‡´webæ— æ³•è®¿é—®</a><div class="blog-slider__text">TCPé˜Ÿåˆ—æ»¡äº†å¯¼è‡´webæ— æ³•è®¿é—®</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/03/10/TCPé˜Ÿåˆ—æ»¡äº†å¯¼è‡´webæ— æ³•è®¿é—®/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2025/04/28/Centosåˆ›å»ºiscsiå­˜å‚¨/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onenote.zznnwn.cloudns.biz/api/raw/?path=/%E7%94%B5%E8%84%91%E5%A3%81%E7%BA%B8%F0%9F%8D%A1/%E5%8A%A8%E6%BC%AB/blog_banner/20200723092038_dHyHM.gif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2025/04/28/Centosåˆ›å»ºiscsiå­˜å‚¨/&quot;);" href="javascript:void(0);" alt="">Centosåˆ›å»ºiscsiå­˜å‚¨</a><div class="blog-slider__text">Centosåˆ›å»ºiscsiå­˜å‚¨</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2025/04/28/Centosåˆ›å»ºiscsiå­˜å‚¨/&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","1500ms"),arr[i].setAttribute("data-wow-delay","0ms"),arr[i].setAttribute("data-wow-offset","0"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","1500ms"),arr[i].setAttribute("data-wow-delay","0ms"),arr[i].setAttribute("data-wow-offset","0"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("container"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","1500ms"),arr[i].setAttribute("data-wow-delay","0ms"),arr[i].setAttribute("data-wow-offset","0"),arr[i].setAttribute("data-wow-iteration","1")</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>